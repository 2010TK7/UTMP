
(function(){window.QZONE=window.QZONE||{};QZONE.appCanvas=QZONE.appCanvas||{};;(function(){window.QZONE=window.QZONE||{};QZONE.appCanvas=QZONE.appCanvas||{};var base={__eventQueue:[],fireEvent:function(){this.__eventQueue.push(Array.prototype.slice.call(arguments,0));},__timeOrigin:null,__timelineQueue:{},__first:true,timeline:function(n,d){this.__timelineQueue[n]=d;if(this.__timelineQueue['appLoaded1']){this.sendTimeline();this.__first=false;}
if(this.__timelineQueue['appLoaded2']){this.sendTimeline();this.__first=false;}},sendTimeline:function(){var list=['','baseLoaded','loadApp1','appLoaded1','loadExt1','extLoaded1','loadApp2','appLoaded2','loadExt2','extLoaded2','appframe1','appframe2'];var url='http://isdspeed.qq.com/cgi-bin/r.cgi?flag1=7721&flag2=107&flag3=8&flag4='+QZONE.FP.getQzoneConfig('loginUin')+'&flag5='+100;loop:for(var key in this.__timelineQueue){for(var j=0,lenj=list.length;j<lenj;j++){if(list[j]==key){url+='&'+j+'='+(this.__timelineQueue[key]-this.__timeOrigin);continue loop;}}}
this.__timelineQueue={};if(Math.random()*100<1){QZFL.pingSender(url);}},history:[],currentApp:null,onToApp:function(appinfo){this.history.push(this.currentApp=appinfo);},onAppExit:function(){if(!this.currentApp||this.currentApp.status!='running'){return;}else{this.currentApp.status='exit';this.fireEvent('onExit',this.currentApp);this.stopOnlineInterval();if(this.currentApp.nowtime){this.sendOnlineStat(1,true);QZFL.pingSender('https://apphub.qzone.qq.com/appstore/cgi-bin/qzapps/qz_appstore_report.cgi?'+QZFL.util.genHttpParamString({appid:this.currentApp.appid,type:'timestamp',timestamp:this.currentApp.nowtime,g_tk:QZONE.FP.getACSRFToken()}));}}},appTimeReport:function(time){if(Math.random()*100<50){var url='http://cloudspeed.qq.com/speedcloud.cgi?appid='+this.appInfo.appid+'&t1='+time+'&q='+QZONE.FP.getQzoneConfig('loginUin');QZFL.pingSender(url,2000);}},__codeQueue:[],code:function(port,type,code,time){this.__codeQueue.push([port,type,code,time]);},pf:'qzone',rendered:false,init:function(){if(this.rendered)return;this.timeline('baseLoaded',QZONE.FP.getSvrTime());QZFL.css.insertCSSLink('http://'+siDomain+'/open_proj/appshow_v3.css');QZFL.css.insertCSSLink('http://'+siDomain+'/open_proj/proj_app_store_v2/css/app/detail_iframe.css');if(this.usefluid){$e(window).bind('resize',function(){if(!self.autoAppWidth)return;self.setWidth();});}
this.cfg.container.innerHTML=QZONE.appCanvas.template;this.rendered=true;this.fireEvent('onInit');var self=this;QZONE.qzEvent.addEventListener('QZ_JUMP_ENTER_BASE_APP',function(){self.onAppExit();});QZONE.qzEvent.addEventListener('QZ_JUMP_ENTER_APP',function(type,appinfo){if(appinfo.appid==-108){self.onAppExit();}});QZONE.qzEvent.addEventListener('QZ_JUMP_ENTER_DEFAULT',function(){self.onAppExit();});QZONE.pageEvents.onbeforeunloadRegister(function(){self.onAppExit();});},usefluid:window.screen.width>=1280,autoAppWidth:false,sessionID:0,toApp:function(cfg){if(cfg&&cfg.appInfo&&cfg.appInfo.app_id&&cfg.appInfo.app_id!=27571&&!/65$|71$/.test(QZFL.cookie.get('uin'))){QZFL.imports('http://'+siDomain+'/open/canvas/qzone/appcanvas_new.js?rd='+Math.random(),function(){QZONE.appCanvas.toApp(cfg);});return;}
if(!cfg||!cfg.appInfo||!cfg.appInfo.app_id)return;window.QZONE&&window.QZONE.appCanvas&&window.QZONE.appCanvas.lang&&window.QZONE.appCanvas.lang.appInfo&&(window.QZONE.appCanvas.lang.appInfo.hasmobile=undefined);this.sessionID++;var sessionID=this.sessionID;this.cfg=cfg;this.__timeOrigin=new Date(cfg.entertime);this.el=cfg.container;this.init();this.appid=this.cfg.appInfo.app_id;if((!cfg.paras)&&cfg.canvasurl){cfg.paras=new QZFL.util.URI(cfg.canvasurl);}
if(/^(333|348|356|361|905|201|206|100673497|100627061)$/.test(this.appid)){$e('.page').addClass('page_app_default');}else{$e('.page').removeClass('page_app_default');}
this.onAppExit();this.onToApp({appid:this.appid,entertime:new Date(cfg.entertime),status:'running'});if(cfg.appInfo.app_size==960)cfg.appInfo.app_size=950;if(cfg.appInfo.app_size==780)cfg.appInfo.app_size=760;this.appInfo={appid:this.appid,alias:cfg.appInfo.app_alias,desc:cfg.appInfo.app_comm,appwidth:(cfg.appInfo.app_size||950),appheight:(cfg.appheight||3000),canvasurl:cfg.appInfo.app_canvasurl||cfg.canvasurl};$e("#appCanvasTitle").setHtml(this.appInfo.alias);this.autoAppWidth=false;this.setWidth();this.markTimeStamp();if(this.isOwnerApp()&&!this.isNeedOpenInfo()){this.loadApp();}
this.getAppInfo();var self=this;setTimeout(function(){self.fireEvent('toApp',cfg,self.appInfo,sessionID);},/^(353|358|372|904)$/.test(this.appid)?3000:2000);if(this.cfg&&this.cfg.paras&&this.cfg.paras.search){var params=QZFL.util.splitHttpParamString(this.cfg.paras.search.replace(/^\?/,''));if(params.ins_d0&&params.ins_d1){var time1=params.ins_d1-params.ins_d0;var time2=new Date().getTime()-params.ins_d0;var url='http://isdspeed.qq.com/cgi-bin/r.cgi?flag1=7721&flag2=107&flag3=35&flag4='+QZONE.FP.getQzoneConfig('loginUin')+'&flag5='+1+"&1=0&2="+time1+"&3="+time2;setTimeout(function(){QZFL.pingSender(url);},4000);}}
try{QZONE.qzEvent.fire("QZ_RUN_NEW_APP",cfg.appInfo);}catch(e){}
setTimeout(function(){module.req('adapter',function(adapter){if(/^10/.test(adapter.getUin())){QZFL.cookie.del('appcanvasuser_times','https://qzonestyle.gtimg.cn/open/canvas/qzone/qzone.qq.com','/');var records=QZFL.cookie.get('appcanvasuser_records');var now=new Date;var p=adapter.getStatPackage();if(records){var firstTime=parseInt(records.split(',')[0]);var times=parseInt(records.split(',')[1]);times=Math.min(30,times||0);p.valueStat(350443,1,times+1,{reportRate:1,duration:(now.getTime()-firstTime)/1000/60});var img=new Image();img.src='../../../open_proj/sprite/appshow_v3-32.png-type=cachetest&max_age=600000'/*tpa=http://qzonestyle.gtimg.cn/open_proj/sprite/appshow_v3-32.png?type=cachetest&max_age=600000*/;setTimeout(function(){var flag=img.complete;p.valueStat(350444,1,flag?1:2,{reportRate:1,duration:(now.getTime()-firstTime)/1000/60});},1);records=firstTime+','+(times+1);}else{p.valueStat(350443,1,1,{reportRate:1,duration:0});records=now.getTime()+',1';var img=new Image();img.src='../../../open_proj/sprite/appshow_v3-32.png-type=cachetest&max_age=600000'/*tpa=http://qzonestyle.gtimg.cn/open_proj/sprite/appshow_v3-32.png?type=cachetest&max_age=600000*/;}
document.cookie="appcanvasuser_records="+records+"; expires="+(new Date(now.getFullYear(),now.getMonth(),now.getDate()+1,3,0,0)).toGMTString()+"; path=/; domain=qzone.qq.com;";}});},5000);},markTimeStamp:function(){var self=this;this.cfg.appIframe.onload=this.cfg.appIframe.onreadystatechange=function(){if(/loaded|complete|undefined/i.test(self.cfg.appIframe.readyState)){self.cfg.appIframe.onload=self.cfg.appIframe.onreadystatechange=null;self.appTimeReport(QZONE.FP.getSvrTime()-(self.__timelineQueue['loadApp'+(self.isOwnerApp()?1:2)]||self.__timeOrigin));self.fireEvent('appLoad');self.timeline('appLoaded'+(self.isOwnerApp()?1:2),QZONE.FP.getSvrTime());}};},isOwnerApp:function(){var flag=this.cfg.appInfo.app_setupflag;return!(flag&0x800);},isNeedOpenInfo:function(){var flag=this.cfg.appInfo.app_setupflag;return!!(flag&0x008);},setWidth:function(){var width=Math.max(this.appInfo.appwidth,760);var ifrWidth=width,rightWidth=182,allWidth,padding=32,ex=46,mid=8,mainWidth=ifrWidth+mid;if(width<=760){$e("#appCanvasDiv").setAttr("className","page_760");}else if(window.screen.width<1280){if(width<950){$e("#appCanvasDiv").setAttr("className","page_1024_more");}else{$e("#appCanvasDiv").setAttr("className","page_1024_less");padding=ex=mid=rightWidth=0;mainWidth=ifrWidth+mid;mainWidth=Math.max(mainWidth,950);}}else{$e("#appCanvasDiv").setAttr("className","page_1024_more");}
if(/^(333|348|356|361|905|201|206)$/.test(this.appInfo.appid)){$e("#appCanvasDiv").setAttr("className","page_1024_less");padding=ex=mid=rightWidth=0;mainWidth=ifrWidth+mid;mainWidth=Math.max(mainWidth,950);}
if(QZONE.FrontPage.getQzoneConfig().version==8){padding=ex=0;}
if(this.usefluid&&this.autoAppWidth&&screen.width>=1280){allWidth=Math.min(QZFL.dom.getClientWidth(),1280);ifrWidth=Math.max(allWidth-rightWidth-10-mid-padding*2-ex,width);mainWidth=ifrWidth+mid;}
allWidth=mainWidth+rightWidth+10;$e(this.cfg.container).removeClass('page_fluid_canvas');this.cfg.setAppCanvasWidth(allWidth+padding*2+ex);$e('#page3rdApp').eq(0).style.cssText='';$e('#appCanvasDiv, div.page_appshow, div.page_index, #appCanvasIfm').setStyle('width','100%');$e('#page3rdApp').setStyle({'width':allWidth+'px','padding-left':padding+'px','padding-right':padding+ex+'px'});$e('div.main_col').setStyle('width',mainWidth+'px');$e('#appCanvasIfm').setStyle({'width':ifrWidth+'px','margin':'0 auto'});},loadApp:function(){var self=this,data=this.appInfo;if(!this.isOwnerApp()){if(data.openid&&data.openkey){data={pf:data.pf,pfkey:data.pfkey,openid:data.openid,openkey:data.openkey,app_appbitmap:data.app_appbitmap};}else{QZONE.FP.showMsgbox("抱歉，获取用户信息出错了，请稍候再试！",3,2000);return;}}
this.timeline('loadApp'+(this.isOwnerApp()?1:2),QZONE.FP.getSvrTime());if(this.isOwnerApp()&&this.isNeedOpenInfo()){var search='?'+QZFL.util.genHttpParamString({pf:data.pf,pfkey:data.pfkey,openid:data.openid,openkey:data.openkey});this.cfg.showApp($e("#appCanvasIfm").eq(0),data,{search:search});}else{this.cfg.showApp($e("#appCanvasIfm").eq(0),data,{search:data.app_appbitmap>0?('?app_appbitmap='+data.app_appbitmap):''});}
this.cfg.appIframe.height=this.appInfo.appheight;},getAppInfo:function(){var self=this,data={appid:this.appid,qz_ver:6,pf:this.pf};var sessionID=this.sessionID;if(this.cfg&&this.cfg.paras&&this.cfg.paras.search){QZFL.extend(data,QZFL.util.splitHttpParamString(this.cfg.paras.search.replace(/^\?/,'')));}
self.fireEvent('beforeAppInfoLoad',data,sessionID);function sucFn(d){self.fireEvent('onAppInfoLoad',d,sessionID);if(d.data){self.appInfo=d.data;self.currentApp.nowtime=d.data.nowtime;self.autoAppWidth=d.data.isauto;self.setWidth();}
if(!self.isOwnerApp()||(self.isOwnerApp()&&self.isNeedOpenInfo())){self.loadApp();}
self.online();self.timeline('appframe'+(self.isOwnerApp()?1:2),QZONE.FP.getSvrTime());};function errFn(d){self.fireEvent('onAppInfoError',d,sessionID);if(d&&d.ret==-1005){self.showPunishPage({punishtime:d.data.punishtime,remaintime:d.data.remaintime});}else if(d&&d.ret==1100){self.showMaintainPage();}else{if(!self.isOwnerApp()||(self.isOwnerApp()&&self.isNeedOpenInfo())){QZFL.widget.msgbox.show(d.msg,3,2000);}
if(Math.random()*100<1){var sender=new QZONE.FormSender('http://s.isdspeed.qq.com/cgi-bin/s.fcg',"POST",{dataId:1000083,time:QZONE.FP.getSvrTime()/1000,url:'https://apphub.qzone.qq.com/appframe/cgi-bin/qzapps/appframe.cgi',code:d.ret,errMsg:QZFL.util.genHttpParamString(data)},'utf-8');sender.send();}}};QZFL.extend(data,{v:1});if(QZFL.userAgent.chrome){this.loadDataByXHR2("https://apphub.qzone.qq.com/appframe/cgi-bin/qzapps/appframe.cgi?"+genHttpParamString(data),sucFn,errFn,function(){self.loadDataByJSONGetter('https://apphub.qzone.qq.com/appframe/cgi-bin/qzapps/appframe.cgi',data,sucFn,errFn);});}else{this.loadDataByJSONGetter('https://apphub.qzone.qq.com/appframe/cgi-bin/qzapps/appframe.cgi',data,sucFn,errFn);}},loadDataByXHR2:function(url,sucFn,errFn,sysErrFn){var self=this,st=QZONE.FP.getSvrTime();var handler=function(){if(this.readyState==this.DONE){client.onreadystatechange=QZFL.emptyFn;if(this.status==200){var txt=this.responseText.replace(/(^_Callback\(\s*)|(\)\;\s$)/ig,"");var d=eval("("+txt+")");try{if(d.ret==0){sucFn&&sucFn(d);self.code('frame2',d.ret,QZONE.FP.getSvrTime()-st);}else if(typeof d.ret=='undefined'){d=d||{};d.ret=9997;errFn&&errFn(d);self.code('frame2',d.ret,QZONE.FP.getSvrTime()-st);}else{errFn&&errFn(d);self.code('frame2',d.ret,QZONE.FP.getSvrTime()-st);}}catch(e){self.code('frame2',9998,QZONE.FP.getSvrTime()-st);}}else{sysErrFn&&sysErrFn();self.code('frame2',9000+this.status,QZONE.FP.getSvrTime()-st);}}};try{url=url+(url.indexOf('?')>-1?'&':'?')+'g_tk='+QZFL.pluginsDefine.getACSRFToken();var client=new XMLHttpRequest();client.onreadystatechange=handler;client.onerror=function(){sysErrFn&&sysErrFn();self.code('frame2',9900,QZONE.FP.getSvrTime()-st);};client.withCredentials=true;client.open("GET",url);client.send();}catch(e){sysErrFn&&sysErrFn();}},loadDataByJSONGetter:function(url,data,sucFn,errFn){var self=this,st=QZONE.FP.getSvrTime();var g=new QZFL.JSONGetter(url,null,data,"utf-8");g.onSuccess=function(d){try{if(d.ret==0){sucFn(d);self.code('frame',d.ret,QZONE.FP.getSvrTime()-st);}else if(typeof d.ret=='undefined'){d=d||{};d.ret=9997;errFn(d);self.code('frame',d.ret,QZONE.FP.getSvrTime()-st);}else{errFn(d);self.code('frame',d.ret,QZONE.FP.getSvrTime()-st);}}catch(e){self.code('frame',9998,QZONE.FP.getSvrTime()-st);}};g.onError=function(d){d=d||{};d.ret=9999;errFn(d);self.code('frame',d.ret,QZONE.FP.getSvrTime()-st);};g.send("_Callback");},onlineInterval:null,onlineTimes:0,sendOnlineStat:function(reporttype,isExit){var url='http://analy.qq.com/cgi-bin/online_stat.cgi',params={appid_via:this.currentApp.appid,uin:QZONE.FP.getQzoneConfig('loginUin'),action:600,platform:1,detail:'',login_time:this.currentApp.nowtime,reporttype:reporttype,finaltype:isExit?1:0,countnum:this.onlineTimes,'_r':Math.random()};if(Math.random()*100<1){var stime=QZONE.FP.getSvrTime();var self=this;var g=new QZFL.JSONGetter(url,null,params,"utf-8");g.onSuccess=function(d){self.code('online',d.ret,QZONE.FP.getSvrTime()-stime);};g.onError=function(d){self.code('online',9999,QZONE.FP.getSvrTime()-stime);};g.send("_Callback");}else{QZFL.pingSender(url+'?'+QZFL.util.genHttpParamString(params),reporttype==1?0:5000);}},stopOnlineInterval:function(){var self=this;clearInterval(self.onlineInterval);self.onlineInterval=null;self.onlineTimes=0;},online:function(){var self=this;self.stopOnlineInterval();function handler(){self.onlineTimes++;self.sendOnlineStat(self.onlineTimes>5||self.onlineTimes==1?2:1);self.onlineInterval=setTimeout(handler,1000*60*(self.onlineTimes>5?5:1));}
handler();},showErrorPage:function(){var self=this;self.cfg.disableApp($e('#appCanvasIfm').eq(0),{url:'http://'+(window['g_SPrefix']||'')+'qzs.qq.com/open/canvas/error.htm?appname='+encodeURIComponent(self.appInfo.alias)});self.setWidth();},showPunishPage:function(data){var self=this;self.cfg.disableApp($e("#appCanvasIfm").eq(0),{url:QZFL.string.format('http://'+(window['g_SPrefix']||'')+'qzs.qq.com/open/canvas/1005.htm?a={0}&width={1}&punishtime={2}&remaintime={3}&ctime={4}',self.appid,self.appInfo.appwidth,data.punishtime||60*60*12,data.remaintime||60*60*12,QZONE.FP.getSvrTime().getTime())});},showMaintainPage:function(){var self=this;self.cfg.disableApp($e('#appCanvasIfm').eq(0),{url:'http://'+(window['g_SPrefix']||'')+'qzs.qq.com/open/canvas/1006.htm?appname='+encodeURIComponent(self.appInfo.alias)});self.setWidth();}};QZONE.appCanvas.base=base;QZONE.appCanvas.toApp=function(){base.toApp.apply(base,arguments);};})();QZONE.appCanvas.template='<div id="appCanvasDiv" class="" style="display:none; position:relative;"><div class="page page_appshow page_with_tab"><div class="body clear page_index"><div id="appCanvasMain" class="main"><div id="appCanvasTopbar" class="mod_app_connect clear" style="display:none;"><div class="inner"><div id="appCanvasInterest" class="app_interesting" style="display:none" _template_container="box"></div></div></div><div class="app_info_v2 clear" id="appCanvasAppTab"><a id="appCanvasAppCenterLink" href="javascript:void(0);" _hot_tag="10_APPCANVAS.APPSTORE" class="app_center_href"><i class="ico app_center_logo"></i></a><a id="appCanvasMessageNum" class="link_message_num" _hot_tag="10_APPCANVAS.APPSTOREMESSAGE" href="javascript:void(0);" style="display:none;"></a><span id="appCanvasActionLink" style="display:none;"></span><div id="appCanvasActionLink2" style="display:none;" class="link_app_active link_app_active_v2"></div><span id="appCanvasTabArea" class="app_tab" _template_container="box" _hot_tag="10_APPCANVAS.TABMODULE"></span><div class="app_center"><div class="option_item clear"><a id="appCanvasAssistantLink" href="javascript:void(0);" _hot_tag="10_APPCANVAS.ASSISTANT" class="link_app_helper" style="display:none;">应用助手</a><a id="appCanvasAssistantNum" href="javascript:void(0);" _hot_tag="10_APPCANVAS.ASSISTANT" class="link_app_helper_num" style="display:none;"></a></div><div id="appCanvasAppMore" class="option_item app_my_more" style="display:none;"><span class="link_myapp"><a id="appCanvasMyApp" href="javascript:void(0);" _hot_tag="10_APPCANVAS.MYAPP">我的应用</a><a id="appCanvasMyAppNum" href="javascript:void(0);" class="link_app_helper_num" style="display:none;" _hot_tag="https://qzonestyle.gtimg.cn/open/canvas/qzone/10_APPCANVAS.MYAPP.NUM"></a></span><div id="appCanvasMoreBox" class="more_box none" ></div></div><div id="appCanvasAction2" style="display:none;" class="option_item link_gg"></div></div></div></div><div class="wrap_body clearfix" style="position: relative;"><div class="right_col" id="appCanvasDivRight"><div class="right_col_border" style="display:none;"><div class="right_col_bg"><div class="split_block"></div><div class="mod_app" id="appCanvasApp" style="display:none;"><ul id="appCanvasList" class="app_morelist"></ul></div><div class="mod_bbs_hotv2" id="appCanvasBBS" style="display:none"></div><div id="appCanvasInvite" class="mod_invite_friend" style="display:none;"></div><div id="appCanvastasklist" class="mod_task_today mod_task_today_s" style="display:none;"></div><div id="appCanvasgame" class="mod_lottery_game" style="display:none;"></div><div id="appCanvasActionEnter" style="display:none;" onclick="return false;" class="qz_entrance"></div><div id="appCanvasPlayAgain" class="mod_play_again" style="display:none;"></div><div class="mod_recommend_app" id="appCanvasRecommend" style="display:none;" _template_container="box"></div><div class="mod_recommend_app mod_recommend_app_v2" id="appCanvasrecommendshow" style="display: none;"></div><div id="appCanvasActionEnter" class="qz_entrance" style="display:none;"></div><div class="split_block"></div><div class="app_friend_info app_friend_info_v2" id="appCanvasFriendInfo" style="display:none;"></div><div class="mod_friend_trend" id="appCanvasnewmsglist" style="display:none;"></div><div class="mod_app_popular" id="appCanvasPopularLatest" style="display:none;" _template_container="box"></div><div class="mod_app_hot" id="appCanvasHotPlay" style="display:none;" _template_container="box"></div><div id="appCanvasGroup" class="mod_qq_group mod_qq_build" style="display:none;"></div><div id="appCanvasGift" class="mod_friend_trend mod_gift_bag" style="display:none;"></div><div id="appCanvaspcpush" class="mod_boutique" style="display:none;"></div><div id="appCanvasCoreusersrecom" style="display:none;"></div><div class="app_charge_ticket" id="appCanvasChargeTicket" style="display:none;"></div><div class="split_block"></div><div class="app_reveal" id="appCanvasgg" style="display:none;"></div></div></div></div><div class="main_col"><div class="mod_app_option clearfix" id="appCanvasAppInfo"><div class="inner"><span id="appCanvasScoreArea" class="pf_area"><span class="pf_result drop_area"><span class="drop_front"><span class="pf_result_num">&nbsp;&nbsp;</span>分</span><span class="drop_box"></span></span><span class="pf_wrap_v3 drop_area mini_pf_area"><span class="drop_front">评分<i class="ico ico_tran_down2"></i></span><span class="drop_box"><a class="ico_star_bg" href="javascript:void(0);" onclick="return false;"><span class="ico_star_by" style="width:0%;"></span></a><span class="pf_result_num"></span></span></span></span><span class="split">|</span><span id="appCanvasShareArea" class="share_area drop_area mini_share_area"><span class="drop_front">分享<i class="ico ico_tran_down2"></i></span><span class="drop_box"><a href="javascript:void(0);" onclick="return false;" id="appCanvasShareToQz"><i class="ico ico_qzone"></i><span>QQ空间</span></a><a href="javascript:void(0);" onclick="return false;" id="appCanvasShareToPy"><i class="ico ico_friend"></i><span>朋友网</span></a><a href="javascript:void(0);" onclick="return false;" id="appCanvasShareToWb"><i class="ico ico_weibo"></i><span>腾讯微博</span></a></span></span><span class="split">|</span><span id="appCanvasAttention" class="attention" style="display:none;"></span><span id="appCanvasAttentionSplit" class="split" style="display:none;">|</span><a id="appCanvasJoinVip" href="javascript:void(0);" target="_blank" class="ico" style="display:none;" _hot_tag="https://qzonestyle.gtimg.cn/open/canvas/qzone/10_APPCANVAS.VIP"></a><span class="split">|</span><span id="appCanvasBalance" class="gold_ticket_area" style="display:none;"></span><span id="appCanvasQuickLinksArea" class="url_copy clear"></span><a id="appCanvasReport" href="javascript:void(0)" onclick="return false;" class="link_jubao" style="display:none;">举报</a><a href="javascript:void(0)" onclick="return false;" class="link_dimension" id="appCanvasDimension" style="display:none;"><i class="ico ico_phone"></i>下载到手机</a><div id="appCanvasReportLayer" class="mod_privacy layer_jubao_hover" style="display:none;"><div class="inner"><i class="bor_c"><i class="bor_i"></i></i><p>点击举报不良应用信息</p></div></div></div></div><div class="mod_float_none "></div><div class="mod_hint" id="appCanvasHint" style="display:none;"></div><div id="appCanvasTopAd" class="mod_gg" style="display:none;"></div><div id="appCanvasIfm" class="mod_app_page"><div class="prompt_browser" style="display:none;"><div class="inner" style="height:900px;"><div class="prompt">您的浏览器版本不支持HTML5应用，请使用推荐浏览器，或去<a href="javascript:void(0)" onclick="return false;">看看其它应用<i>&gt;&gt;</i></a></div><div class="recommend">推荐使用：<span>Chrome、IE、Firefox、Safari、Opera</span>浏览器最新版本</div></div></div></div></div></div><div id="appCanvasSharedialog" class="mod_tip_share" style="left:200px;top:80px;display:none;"></div></div></div><div id="appCanvasTips" class="mod_app_tips" style="display:none;z-index:6499;position:fixed;right:0;bottom:0;"></div><div id="appCanvasleftlayer" class="mod_fixed_eventpop" style="display:none"></div><div id="appCanvasRecentApplist" class="" style="display:none;z-index:100"></div></div>';﻿
var log;(function(global,DOC,undefined){var loglist=[];log=function(type,object,msg,context){loglist.push([type,object,msg,context,(new Date).getTime()]);};log.info=function(object,msg,context){log('info',object,msg,context);};log.war=function(object,msg,context){log('war',object,msg,context);};log.err=function(object,msg,context){log('err',object,msg,context);};log.get=function(type,object){if(arguments.length==0)return loglist;var ret=[],item;for(var i=0,leni=loglist.length;i<leni;i++){item=loglist[i];if(type&&object){if(item[0]==type&&item[1]==object)ret.push(item);}else if(type){if(item[0]==type)ret.push(item);}else if(object){if(item[1]==object)ret.push(item);}else{ret.push(item);}}
return ret;};QZONE.appCanvas.log=log;})(window,window.document);var module;(function(global,DOC,undefined){var newMap={"action":"350655","action_new":"350672","ad":"350704","appassit":"350681","appcentertips":"350674","applist":"350701","attention":"350665","balance":"350662","balance_new":"350693","bbs":"350684","box":"350673","coreusersrecom":"350663","fanli":"350710","game":"350694","game_new":"350709","gift":"350691","goldcoupon_new":"350695","goldcouponactivity":"350656","group":"350670","hint":"350678","hotplay":"350679","html5":"350666","installTips":"350705","interest":"350686","invite":"350697","jubao":"350708","mobileaction":"350671","mobileentrance":"350687","mobileentrance_new":"350698","msglist":"350660","mybox":"350688","newmsglist":"350690","offwar":"350696","pcpush":"350683","playagain":"350711","popular":"350676","quicklinks":"350664","recentapplist":"350661","recommend":"350658","recommendshow":"350669","score":"350668","score_new":"350685","search":"350699","settings":"350659","share":"350706","stat":"350689","tab":"350682","tab_new":"350677","tasklist":"350703","taskmarkettips_new":"350692","vip":"350675","vip_new":"350667","ct":"350718"};var oldMap={"action":"350597","action_new":"350598","ad":"350599","appassit":"350600","appcentertips":"350601","applist":"350602","attention":"350603","balance":"350604","balance_new":"350605","bbs":"350606","box":"350607","coreusersrecom":"350608","fanli":"350611","game":"350612","game_new":"350613","gift":"350614","goldcoupon_new":"350615","goldcouponactivity":"350616","group":"350617","hint":"350618","hotplay":"350619","html5":"350620","installTips":"350621","interest":"350622","invite":"350623","jubao":"350624","mobileaction":"350625","mobileentrance":"350626","mobileentrance_new":"350627","msglist":"350628","mybox":"350629","newmsglist":"350630","offwar":"350631","pcpush":"350632","playagain":"350634","popular":"350635","quicklinks":"350637","recentapplist":"350638","recommend":"350639","recommendshow":"350640","score":"350641","score_new":"350642","search":"350643","settings":"350644","share":"350645","stat":"350646","tab":"350647","tab_new":"350648","tasklist":"350649","taskmarkettips_new":"350650","vip":"350652","vip_new":"350653","ct":"350719"};var sandbox={},indexID=0;function toArray(arraylike,start,end){if(arguments.length==1&&typeof arguments[0]=='string'){var txt=arguments[0].replace(/\s+/g,'');return txt?txt.split(','):[];}else if(arguments.length>=1&&arguments[0].length){var len=arraylike.length,start=arguments.length>=2?start:0,end=arguments.length>=3?Math.min(end,len):len,arr=[];for(var i=start;i<end;i++){arr.push(arraylike[i]);}
return arr;}else if(arguments.length==1&&typeof arguments[0]=='object'){var arr=[];for(var key in arguments[0]){arr.push(key);}
return arr;}};function apply(o,c){if(o&&c&&typeof c=='object'){for(var p in c){o[p]=c[p];}}
return o;};function find(arr,item){for(var i=0;i<arr.length;i++){if(arr[i]==item){return i;}}
return-1;}
module={autoLoad:false,cache:{},declare:function(ns,nss,fn){sandbox[ns]=sandbox[ns]||{};sandbox[ns].flag=sandbox[ns].flag||true;sandbox[ns].relier=sandbox[ns].relier||[];apply(sandbox[ns],{ns:ns,loaded:true,isModule:true,waits:!nss?[]:nss.replace(/\s+/ig,'').split(','),depend:!nss?[]:nss.replace(/\s+/ig,'').split(','),fn:fn,time4ready:new Date});this.exec(ns);},require:function(nss,fn){var ns='函名模块No.'+(indexID++);sandbox[ns]={ns:ns,flag:true,relier:[],waits:!nss?[]:nss.replace(/\s+/ig,'').split(','),depend:!nss?[]:nss.replace(/\s+/ig,'').split(','),fn:fn};this.exec(ns);},exec:function(ns){var m=sandbox[ns];for(var i=0;i<m.waits.length;i++){if(!sandbox[m.waits[i]]){sandbox[m.waits[i]]={flag:true,isModule:true,loaded:false,relier:[],time4require:new Date};}
if(find(sandbox[m.waits[i]].relier,m)==-1){sandbox[m.waits[i]].relier.push(m);}
if(sandbox[m.waits[i]].flag=='ready'){m.waits.splice(i--,1);}else if(this.autoLoad){this.load(m.waits[i]);}}
if(m.waits&&m.waits.length){}else{try{var nss=[];for(var i=0;i<m.depend.length;i++){nss.push(sandbox[m.depend[i]].obj);}
m.obj=m.fn.apply(null,nss);m.flag="ready";if(m.isModule&&!m.isLocal)this.saveLocalStorage(m.ns);for(var i=0;i<m.relier.length;i++){this.exec(m.relier[i].ns);}}catch(e){log.err(m.ns,'模块调用异常，模块名称：'+m.ns+',异常信息'+e.message,e);}}},getsandbox:function(){return sandbox;},batch:function(nss,fns,params){nss=toArray(nss);fns=toArray(fns);if(nss&&nss.length&&fns&&fns.length){for(var i=0;i<nss.length;i++){this.req(nss[i],(function(ns,fns,ps){return function(m){for(var i=0;i<fns.length;i++){m[fns[i]].apply(m,ps||[]);}};})(nss[i],fns,params));}}},autoLoadQueue:[],autoLoadTimeout:null,abtest:false,firstLoad:true,firstLoadedCallback:null,load:function(ns){var self=this;if(ns){if(find(this.autoLoadQueue,ns)==-1){sandbox[ns].loaded='ing';this.autoLoadQueue.push(ns);}
if(!this.autoLoadTimeout){this.autoLoadTimeout=setTimeout(function(){self.loadScript(self.autoLoadQueue);self.autoLoadQueue=[];self.autoLoadTimeout=null;},500);}}else{var objs=this.getsandbox(),list=[],tStart=(new Date).getTime();for(var n in objs){if(objs[n].isModule&&!objs[n].loaded){objs[n].loaded='ing';list.push(n);}}
this.loadScript(list,function(){self.autoLoad=true;self.load();if(self.firstLoad){self.firstLoad=false;self.firstLoadedCallback&&self.firstLoadedCallback((new Date).getTime()-tStart+1);}});}},saveLocalStorage:function(ns){try{if(window.localStorage&&this.cache[ns]){localStorage['___appcanvas_ls_'+ns]=this.cache[ns];}}catch(e){}},rateInt:Math.random()*10,statModuleLoad:function(moduleName,type){if(this.rateInt<1){module.require('util',function(util){var o=sandbox[moduleName],flag1='';if(!o)return;util.stat.code4.send(moduleName,1,type,(o.time4ready-o.time4beginload)||1,10);if(module.abtest&&newMap){flag1=newMap[moduleName];}else if(oldMap){flag1=oldMap[moduleName];}
if(!flag1)return;util.stat.code3.send(flag1,1,type,(o.time4ready-o.time4beginload)||1,10);});}},loadLocalStorage:function(ns){var self=this;try{if(window.localStorage&&localStorage['___appcanvas_ls_'+ns]){var fnstr=localStorage['___appcanvas_ls_'+ns];var m4htmlversion=/\/\*htmlversion=(.+?)\*\//.exec(fnstr),m4jsversion=/\/\*jsversion=(.+?)\*\//.exec(fnstr),strlen=jsmin(fnstr).length;if(m4htmlversion&&m4htmlversion[1]==this.versions[ns].htmlversion&&m4jsversion&&m4jsversion[1]==this.versions[ns].jsversion&&(fnstr.length==this.versions[ns].jslength||jsmin(fnstr).length==this.versions[ns].jslength)){eval("("+localStorage['___appcanvas_ls_'+ns]+")();");this.getsandbox()[ns].isLocal=true;this.statModuleLoad(ns,2);return true;}else{this.statModuleLoad(ns,3);return false;}}else{return false;}}catch(e){this.statModuleLoad(ns,4);return false;}},loadScript:function(list,cb){if(typeof(list)=='string'){list=[list];}
if(!list||!list.length)return;var self=this;if(location.search.indexOf("DEBUG")!=-1){QZFL.each(list,function(moduleName){if(!moduleName)return;self.getsandbox()[moduleName].time4beginload=new Date;if(self.abtest&&self.loadLocalStorage(moduleName)){cb&&cb();}else{QZFL.imports("http://"+siDomain+"/open/canvas/modules/"+moduleName+".js?max_age=31536000"+(self.md5?('&md5='+self.md5):''),function(){cb&&cb();var o=self.getsandbox()[moduleName];!o.isLocal&&(self.statModuleLoad(moduleName,1));});}});}else{var url="http://"+siDomain+"/c/=";var files=[];for(var i=0;i<list.length;i++){if(!list[i])list.splice(i--,1);self.getsandbox()[list[i]].time4beginload=new Date;if(self.abtest&&self.loadLocalStorage(list[i]))continue;files.push("/open/canvas/modules/"+list[i]+".js");}
if(!files||!files.length){if(list&&list.length){cb&&cb();}
return;}
url+=files.join(',');url+="?max_age=31536000";url+=this.md5?('&md5='+this.md5):'';QZFL.imports(url,function(){cb&&cb();for(var i=0;i<list.length;i++){var o,moduleName;moduleName=list[i];o=self.getsandbox()[moduleName];!o.isLocal&&(self.statModuleLoad(list[i],1));}});}}};module.req=module.require;module.dec=module.declare;try{if(location.search.indexOf('NOLOCALSTORAGE')!=-1){module.abtest=false;}else{module.abtest=true;}}catch(e){module.abtest=false;}
try{if(Math.random()*10<1){module.require('util',function(util){util.stat.code3.send(350713,1,module.abtest?1:2,500,10);});}}catch(e){}
QZONE.appCanvas.module=module;String.prototype.has=function(c){return this.indexOf(c)>-1;};function jsmin(comment,input,level){if(input===undefined){input=comment;comment='';level=2;}else if(level===undefined||level<1||level>3){level=2;}
if(comment.length>0){comment+='\n';}
var a='',b='',EOF=-1,LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',DIGITS='0123456789',ALNUM=LETTERS+DIGITS+'_$\\',theLookahead=EOF;function isAlphanum(c){return c!=EOF&&(ALNUM.has(c)||c.charCodeAt(0)>126);}
function get(){var c=theLookahead;if(get.i==get.l){return EOF;}
theLookahead=EOF;if(c==EOF){c=input.charAt(get.i);++get.i;}
if(c>=' '||c=='\n'){return c;}
if(c=='\r'){return'\n';}
return' ';}
get.i=0;get.l=input.length;function peek(){theLookahead=get();return theLookahead;}
function next(){var c=get();if(c=='/'){switch(peek()){case'/':for(;;){c=get();if(c<='\n'){return c;}}
break;case'*':get();for(;;){switch(get()){case'*':if(peek()=='/'){get();return' ';}
break;case EOF:throw'Error: Unterminated comment.';}}
break;default:return c;}}
return c;}
function action(d){var r=[];if(d==1){r.push(a);}
if(d<3){a=b;if(a=='\''||a=='"'){for(;;){r.push(a);a=get();if(a==b){break;}
if(a<='\n'){throw'Error: unterminated string literal: '+a;}
if(a=='\\'){r.push(a);a=get();}}}}
b=next();if(b=='/'&&'(,=:[!&|'.has(a)){r.push(a);r.push(b);for(;;){a=get();if(a=='/'){break;}else if(a=='\\'){r.push(a);a=get();}else if(a<='\n'){throw'Error: unterminated Regular Expression literal';}
r.push(a);}
b=next();}
return r.join('');}
function m(){var r=[];a='\n';r.push(action(3));while(a!=EOF){switch(a){case' ':if(isAlphanum(b)){r.push(action(1));}else{r.push(action(2));}
break;case'\n':switch(b){case'{':case'[':case'(':case'+':case'-':r.push(action(1));break;case' ':r.push(action(3));break;default:if(isAlphanum(b)){r.push(action(1));}else{if(level==1&&b!='\n'){r.push(action(1));}else{r.push(action(2));}}}
break;default:switch(b){case' ':if(isAlphanum(a)){r.push(action(1));break;}
r.push(action(3));break;case'\n':if(level==1&&a!='\n'){r.push(action(1));}else{switch(a){case'}':case']':case')':case'+':case'-':case'"':case'\'':if(level==3){r.push(action(3));}else{r.push(action(1));}
break;default:if(isAlphanum(a)){r.push(action(1));}else{r.push(action(3));}}}
break;default:r.push(action(1));break;}}}
return r.join('');}
jsmin.oldSize=input.length;ret=m(input);jsmin.newSize=ret.length;return comment+ret;}})(window,window.document);;(function(global,DOC,undefined){module.declare('lang','',function(){return{pf:'qzone',isQZONE:true,isPY:false,platform:1,extjs:'http://'+siDomain+'/open/canvas/qzone/appCanvasExt.js',css:'http://'+siDomain+'/open_proj/appshow_v3.css',share:'http://rc.qzone.qq.com/',localDomain:'qq',port:{defaultConfig:{type:'post',params:null,statErrorLevel:true,errorLevelID:0,errorLevelRate:1,url:'',charset:'utf-8',code:{"0":{type:1},"3":{type:2,action:'alertMsg',msg:'服务器繁忙，请稍后再试...'},"-100":{type:1,action:'alertMsg',msg:'请先登录'},"-101":{type:1,action:'alertMsg',msg:'评论功能暂已关闭'},"-200":{type:2,action:'alertMsg',msg:'服务器繁忙，请稍后再试...'},"-201":{type:1,action:'alertErr',msg:'您所发表的内容包含屏蔽关键字'},"-300":{type:2,action:'alertErr',msg:'服务器繁忙，请稍后再试...'},"9997":{type:2},"9998":{type:3},"9999":{type:2}}},'appinfo':{url:'https://apphub.qzone.qq.com/appstore/cgi-bin/qzapps/qz_appstore_appinnerinfo.cgi',type:'get',errorLevelRate:1,errorLevelID:260035},'appcard':{url:'https://apphub.qzone.qq.com/appstore/cgi-bin/comm/appstore_getapp_buscard',errorLevelRate:1,type:'get',errorLevelID:360021},'apprank':{url:'https://apphub.qzone.qq.com/appstore/cgi-bin/comm/appstore_getrank',errorLevelRate:1,type:'get',errorLevelID:350095},'frame':{url:'https://apphub.qzone.qq.com/appframe/cgi-bin/qzapps/appframe.cgi',type:'get',errorLevelRate:1,errorLevelID:260034,useXHR2:true,errorLevelID4XHR2:350493,code:{"-1005":{type:3},"1100":{type:3}}},'frame2':{url:'https://apphub.qzone.qq.com/appframe/cgi-bin/qzapps/appframe.cgi',type:'get',errorLevelRate:1,errorLevelID:350493,code:{"-1005":{type:3},"1100":{type:3}}},'online':{url:'http://analy.qq.com/cgi-bin/online_stat.cgi',type:'get',errorLevelID:350180},'refer':{url:'',errorLevelID:350182,code:{"9991":{type:1},"9992":{type:1},"9993":{type:1},"9994":{type:1},"9995":{type:1}}},'applist':{url:'http://apphub.qzone.qq.com/appic/cgi-bin/appstage/appassit_getapprequestcount.fcg',type:'get',errorLevelRate:1,errorLevelID:360014},'appassit':{url:'http://apphub.qzone.qq.com/appic/cgi-bin/appstage/appassit_get_count.fcg',type:'get',errorLevelRate:1,errorLevelID:360015},'invite':{url:'http://fusion.qq.com/cgi-bin/qzapps/appinvite_invite.cgi',errorLevelID:360016,useXHR2:true,errorLevelID4XHR2:350502,code:{"1":{type:1},"-2":{type:1},"-3":{type:1}}},'joingroup':{url:'http://apphub.qzone.qq.com/appic/cgi-bin/appstage/appassit_group.cgi',errorLevelID:350544,useXHR2:true},'creategroup':{url:'http://apphub.qzone.qq.com/appic/cgi-bin/appstage/appassit_group.cgi',errorLevelID:350543,useXHR2:true},'bindgroup':{url:'http://apphub.qzone.qq.com/appic/cgi-bin/appstage/appassit_group.cgi',errorLevelID:350545,useXHR2:true},'getgroup':{url:'http://apphub.qzone.qq.com/appic/cgi-bin/appstage/appassit_group.cgi',type:'get',errorLevelID:350546},'setrequest':{url:'http://apphub.qzone.qq.com/appic/cgi-bin/appstage/appassit_setrequest.cgi',errorLevelID:360019,useXHR2:true},'score':{url:'http://apphub.qq.com/cgi-bin/appstcom/appstore_setcomment.cgi',errorLevelID:360017},'attention':{url:'https://apphub.qzone.qq.com/appstore/cgi-bin/qzapps/qz_appstore_follow_qzone',type:'get',errorLevelID:350562},'share':{url:'http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshareadd_url',errorLevelID:350110,codeFormatFn:function(d){d.ret=d.result.code;}},'share2weibo':{url:'http://vip.qzone.qq.com/fcg-bin/fcg_qzone_mission_addtweet',errorLevelID:350111},'setPrivacyStatement':{url:'https://apphub.qzone.qq.com/appstore/cgi-bin/qzapps/qz_appstore_flag.cgi',errorLevelID:360022},'getPrivacyStatement':{url:'https://apphub.qzone.qq.com/appstore/cgi-bin/qzapps/qz_appstore_flag.cgi',errorLevelRate:1,type:'get',errorLevelID:360018},'appfeeds':{url:'http://apphub.qzone.qq.com/appic/cgi-bin/appstage/appassit_appfeeds.cgi',type:'get',errorLevelRate:1,errorLevelID:360020},'getbookinfo':{url:'http://qzbook.3g.qq.com/qz/prefecture',type:'get',errorLevelRate:1,errorLevelID:350108},'getvideoinfo':{url:'https://apphub.qzone.qq.com/appstore/cgi-bin/qzapps/qz_appstore_appinnerinfo.cgi',type:'get',errorLevelRate:1,errorLevelID:350115},'getrecommend':{url:'https://apphub.qzone.qq.com/appstore/cgi-bin/qzapps/qz_appstore_appinnerinfo.cgi',type:'get',errorLevelRate:1,errorLevelID:350138},'getrecommendshow':{url:'http://vc.qq.com/cgi-bin/video_top_v4.cgi',type:'get',errorLevelRate:1,errorLevelID:310341},'friendsPlay':{url:'http://apphub.qzone.qq.com/appic/cgi-bin/appstage/appassit_frdplaying_ticker.cgi',type:'get',errorLevelRate:1,errorLevelID:0},'homeguide':{url:'https://apphub.qzone.qq.com/appstore/cgi-bin/qzapps/qz_appstore_homeguide.cgi',type:'get',errorLevelRate:1,errorLevelID:350490},'balanceClose':{url:'https://apphub.qzone.qq.com/appstore/cgi-bin/qzapps/qz_appstore_innerbubble.cgi',type:'get',errorLevelRate:1,errorLevelID:350494},'backToApp':{url:'https://apphub.qzone.qq.com/appstore/cgi-bin/comm/appstore_backapp',type:'get',errorLevelRate:1,errorLevelID:0},'backToAppPost':{url:'https://apphub.qzone.qq.com/appstore/cgi-bin/comm/appstore_backapp',type:"post",errorLevelRate:1,errorLevelID:0},'task':{url:'https://apphub.qzone.qq.com/appact/appstore_activity_task_market',type:'get',errorLevelRate:0,errorLevelID:0},'leftAction':{url:'https://apphub.qzone.qq.com/appact/appstore_activity_appinner_fusionapi',type:'get',errorLevelRate:1,errorLevelID:350565},'qboss':{url:'https://h5.qzone.qq.com/proxy/domain/boss.qzone.qq.com/fcg-bin/fcg_get_strategy',type:'get',errorLevelRate:1,errorLevelID:350566},'strongpush':{url:'https://apphub.qzone.qq.com/appact/appstore_activity_strong_push',type:'get',errorLevelRate:1,errorLevelID:0},'getpushtask':{url:'https://apphub.qzone.qq.com/appact/appstore_activity_task_pcpush',type:'get',errorLevelRate:1,errorLevelID:350583,code:{"-1":{type:1}}},'getpushtaskaward':{url:'https://apphub.qzone.qq.com/appact/appstore_activity_task_pcpush',type:'get',errorLevelRate:1,errorLevelID:350584}},stat:{'port':'https://qzonestyle.gtimg.cn/open/canvas/qzone/canvas.qq.com','speedcloud':'http://cloudspeed.qq.com/speedcloud.cgi','used':'https://apphub.qzone.qq.com/appstore/cgi-bin/qzapps/qz_appstore_report.cgi'},appCategory:{'3':{'0':'游戏','2001':'模拟经营','2002':'策略','2003':'PK对战','2004':'社区养成','2005':'城市建设','2011':'休闲','2007':'益智','2008':'角色扮演','2009':'棋牌','2010':'网页游戏','2012':'体育'},'13':{'0':'社交','14000':'交友','14001':'好友互动'},'5':{'0':'工具','4001':'图片处理','4002':'学习工具','4003':'趣味设计','4004':'姓名艺术','4009':'儿童','4014':'学习教育','4015':'面试招聘','4016':'保险理财'},'6':{'0':'娱乐','5004':'星座','5009':'影音','5008':'测试占卜','5007':'姓名艺术','5006':'趣味设计'},'9':{'0':'便民','8001':'团购特卖','8002':'导购','8003':'在线票务','8004':'充值缴费','8005':'预订挂号','8006':'保险理财'},'10':{'0':'生活','9001':'影音','9002':'资讯','9003':'交友','9004':'休闲','9005':'测试占卜','9021':'彩票','9008':'导购','9013':'母婴','9014':'美食','9015':'品牌','9016':'健康','9009':'在线票务','9018':'预约缴费'},'11':{'0':'品牌'},'200':{'0':'创新大赛','203':'游戏','205':'工具','210':'生活','209':'便民'}}}});})(this,this.document);;;;(function(global,DOC,undefined){module.declare('adapter','util, lang',function(util,lang){var adapter={getHttpParams:function(s){return QZFL.object.each(QZFL.util.splitHttpParamString(s),function(v,k,m){m[k]=decodeURIComponent(v);});},getUin:function(){return QZONE.FP.getQzoneConfig('loginUin');},getSvrTime:function(){return QZONE.FP.getSvrTime();},isVipUser:function(cb){cb(QZONE.FP.isVipUser(true));},isUserVIPExpress:function(cb){cb(QZONE.FP.isUserVIPExpress(true));},showReportBox:function(){QZONE.FP.showReportBox.apply(this,Array.prototype.slice.call(arguments));},getACSRFToken:function(){return QZONE.FP.getACSRFToken();},getStatPackage:function(){return QZONE.FP.getStatPackage();},getUserAppList:function(cb){if(QZONE.FrontPage.getQzoneConfig().version==8){QZONE.AppData.getUserAppData(cb);}else{QZONE.appPlatform.getUserAppList(cb);}},getCateText:function(cate,subcate){return lang.appCategory[cate]?lang.appCategory[cate][subcate]||lang.appCategory[cate][0]||'&nbsp;':'&nbsp;';},alertMsg:function(msg){QZFL.widget.msgbox.show(msg,3,2000);},alertSuc:function(suc){QZFL.widget.msgbox.show(suc,4,2000);},alertErr:function(err){QZFL.widget.msgbox.show(err,5,2000);},tcss:{pv:function(tag,domain){window.TCISD&&TCISD.pv(domain,tag);},click:function(tag,domain){window.TCISD&&TCISD.hotClick(tag,domain);}},getUserPicUrl:function(uin,size){return QZONE.FP.getPURL(uin,size);},getUserHomeUrl:function(uin){return'http://user.qzone.qq.com/'+uin;},getAppPicUrl:function(appid,size,isRadius){var domain='https://qzonestyle.gtimg.cn/open/canvas/qzone/i.gtimg.cn',len=(appid+"").length,_appid;if(len<8){_appid=(new Array(8-len+1)).join('0')+""+appid;}else{_appid=(appid+"").slice(-8);}
return"http://"+domain+"/open/app_icon/"+_appid.slice(0,2)+"/"+_appid.slice(2,4)+"/"+_appid.slice(4,6)+"/"+_appid.slice(6,8)+"/"+appid+"_"+size+(isRadius?"_c":"")+".png";},getMobileAppPicUrl:function(appid,size){var domain='https://qzonestyle.gtimg.cn/open/canvas/qzone/i.gtimg.cn',len=(appid+"").length,_appid;if(len<8){_appid=(new Array(8-len+1)).join('0')+""+appid;}else{_appid=(appid+"").slice(-8);}
return"http://"+domain+"/open/app_icon/"+_appid.slice(0,2)+"/"+_appid.slice(2,4)+"/"+_appid.slice(4,6)+"/"+_appid.slice(6,8)+"/"+appid+"_"+size+"_m.png";},getAppPreviewPicUrl:function(appid,index){var domain='https://qzonestyle.gtimg.cn/open/canvas/qzone/i.gtimg.cn',len=(appid+"").length,_appid;if(len<8){_appid=(new Array(8-len+1)).join('0')+""+appid;}else{_appid=(appid+"").slice(-8);}
index=index||1;return"http://"+domain+"/open/app_icon/"+_appid.slice(0,2)+"/"+_appid.slice(2,4)+"/"+_appid.slice(4,6)+"/"+_appid.slice(6,8)+"/"+appid+"_p"+index+".png";},getAppUrl:function(appid,params){var url='http://rc.qzone.qq.com/'+appid;if(params){if(params.via){params.via=util.stat.formatTag(params.via);}
url=util.url.setSearch(url,params);}
if(location.href.indexOf('DEBUG')!=-1)url=util.url.setSearch(url,{"DEBUG":"DEBUG"});if(location.href.indexOf('NOLOCALSTORAGE')!=-1)url=util.url.setSearch(url,{"NOLOCALSTORAGE":"NOLOCALSTORAGE"});return url;},getAppMobileDetailUrl:function(appid,params){var url='http://rc.qzone.qq.com/appsetup/mobileappdetail/?appid='+appid;if(params){if(params.via){params.via=util.stat.formatTag(params.via);}
url=util.url.setSearch(url,params);}
return url;},getAppCenterUrl:function(params){var url='http://rc.qzone.qq.com/appsetup';if(params){if(params.via){params.via=util.stat.formatTag(params.via);}
url=util.url.setSearch(url,params);}
return url;},getDailyCouponUrl:function(params){var url='http://rc.qzone.qq.com/appsetup/dailycoupon';if(params){if(params.via){params.via=util.stat.formatTag(params.via);}
url=util.url.setSearch(url,params);}
return url;},getGameWalletUrl:function(params){var url='http://rc.qzone.qq.com/appsetup/gamewallet';if(params){if(params.via){params.via=util.stat.formatTag(params.via);}
url=util.url.setSearch(url,params);}
return url;},getAppCenterPicUrl:function(size){return'http://qzonestyle.gtimg.cn/open_proj/img/appshow/app_logo_'+size+'.png';},getAssistantUrl:function(params){var url='http://rc.qzone.qq.com/appsetup/assistant';if(params){if(params.via){params.via=util.stat.formatTag(params.via);}
url=util.url.setSearch(url,params);}
return url;},getVideoUrl:function(data){return'http://'+adapter.getISP()+'qzs.qq.com/open/video/common/play.htm#vid='+data.vid+'&svid='+data.svid+'&provider='+data.provider+(data.ep_num?'&episode='+data.ep_num:'')+'&platform='+(lang.platform==1?'qz':'py');},getVideoCenterUrl:function(params){var url='http://rc.qzone.qq.com/appsetup/video/';if(params){if(params.via){params.via=util.stat.formatTag(params.via);}
url=util.url.setSearch(url,params);}
return url;},getVideoCover:function(svid,type){if(!svid){return'';}
return["http://",window.IMGDOMAIN||siDomain.replace("qzonestyle","i"),"/qzone/vas/static/app/video/",(svid%100),"/",(parseInt(svid/100,10)%100),"/",type,"_",svid,".jpg"].join("");},getVideoImg:function(item){var svid=item.svid,type='thumb';return['<img src="',this.getVideoCover(svid,type),'" onerror="this.onerror=null;this.src=\'http://qzonestyle.gtimg.cn/qzone/vas/app/video_center/images/default_',type,'.jpg\'" />'].join("");},getBookCenterUrl:function(params){var url='http://rc.qzone.qq.com/appsetup/book/';if(params){if(params.via){params.via=util.stat.formatTag(params.via);}
url=util.url.setSearch(url,params);}
return url;},getBookUrl:function(id,cid,offset){if(!id)return"#";return'http://rc.qzone.qq.com/appsetup/book/readnew/'+id+'/'+(cid||1)+'/'+(offset||0)+'/g_f/17612/';},showAllApp:function(){QZONE.navigationBar.displayAllUserApps(true);},appInvite:function(appid){QZONE.FP.appInvite(appid);},popupDialog:function(title,options,width,height){var popupID=QZONE.FP.popupDialog(title,options,width,height);if(options&&options.needReport){QZONE.FP.appendPopupFn(function(){util.stat.oz.click(util.stat.createTag((options.appid||10),'https://qzonestyle.gtimg.cn/open/canvas/qzone/QQCLOCK.SET.APPCANVAS.QUIT'));},popupID);}},resizePopupDialog:function(width,height){QZONE.FP.resizePopupDialog(width,height);},closePopup:function(){QZONE.FP.closePopup();},getISP:function(){return window['g_SPrefix']||'';},concatGDTDataArr:[],concatGDTDataTimeout:null,getGDTData:function(){var self=adapter;self.concatGDTDataArr.push(Array.prototype.slice.call(arguments,0));if(!self.concatGDTDataTimeout){self.concatGDTDataTimeout=setTimeout(function(){QZFL.imports("http://"+siDomain+"/qzone/biz/comm/js/qbs.js",function(){while(self.concatGDTDataArr.length){var count=Math.min(self.concatGDTDataArr.length,5);var arr=self.concatGDTDataArr.splice(0,count);util.each(arr,function(arg){arg[2]=count;GDT.get.apply(GDT,arg);});}
self.concatGDTDataTimeout=null;});},500);}},clearGDTData:function(){var self=adapter;self.concatGDTDataArr=[];clearTimeout(self.concatGDTDataTimeout);self.concatGDTDataTimeout=null;},exposureGDT:function(viewid){if(!String(viewid)){return;}
var url='http://v.gdt.qq.com/gdt_stats.fcg';var params={};if(viewid instanceof Array&&viewid.length>1){params.count=viewid.length;for(var i=0,one;one=viewid[i];i++){params['viewid'+i]=one;}
if(viewid.length>4){util.ajax.post(url,params);}else{url+='?'+genHttpParamString(params);QZFL.pingSender(url);}}else{url+='?viewid='+viewid;QZFL.pingSender(url);}},concatQBossDataArr:[],concatQBossCallBackArr:[],concatQBossDataTimeout:null,getQBossData:function(qbossId,callBack){if(!(qbossId&&callBack)){return;}
var self=adapter;self.concatQBossDataArr.push(arguments[0]);self.concatQBossCallBackArr.push(arguments[1]);if(!self.concatQBossDataTimeout){self.concatQBossDataTimeout=setTimeout(function(){util.ajax.port('qboss',{board_id:self.concatQBossDataArr.join(','),uin:adapter.getUin(),_r:Math.random()},function(d){var data=null;for(var i=0;i<self.concatQBossDataArr.length;++i){if(self.concatQBossCallBackArr[i]&&typeof self.concatQBossCallBackArr[i]=='function'){data=d&&d.data&&d.data[self.concatQBossDataArr[i]]&&d.data[self.concatQBossDataArr[i]].items&&d.data[self.concatQBossDataArr[i]].items.length?d.data[self.concatQBossDataArr[i]].items[0]:null;try{self.concatQBossCallBackArr[i](data);}catch(e){}}}
self.concatQBossDataArr=[];self.concatQBossCallBackArr=[];});self.concatQBossDataTimeout=null;},500);}},clearQBossData:function(){var self=adapter;self.concatQBossDataArr=[];clearTimeout(self.concatQBossDataTimeout);self.concatQBossDataTimeout=null;},qBossExposure:function(traceid){var statUrl="https://h5.qzone.qq.com/proxy/domain/boss.qzone.qq.com/fcg-bin/fcg_rep_multiple_strategy";var param=[];if(!traceid){return;}
param.push("from=1","uin="+adapter.getUin(),"qboper=1","postrace="+traceid)
QZFL.pingSender(statUrl+"?"+param.join('&'));},qBossSendStat:function(traceid){var statUrl="https://h5.qzone.qq.com/proxy/domain/boss.qzone.qq.com/fcg-bin/fcg_rep_strategy";var param=[];if(!traceid){return;}
param.push("from=1","uin="+adapter.getUin(),"qboper=2","bosstrace="+traceid)
QZFL.pingSender(statUrl+"?"+param.join('&'));},clearAppRank:function(){var self=adapter;self.concatAppRankArr=[];clearTimeout(self.concatAppRankTimeout);self.concatAppRankTimeout=null;},cutString:function(str,len,replace){str=str||"";replace=replace||"..";str=QZFL.string.restHTML(str);replace=QZFL.string.restHTML(replace);var sl=QZFL.string.getRealLen(str),rl=QZFL.string.getRealLen(replace);if(sl>len){return QZFL.string.escHTML(QZFL.string.cut(str,len-rl,replace));}else{return QZFL.string.escHTML(str);}},countDownTimeoutArr:[],countDown:function(ele,opts){if(!ele){return;}
opts=opts||{};var self=this;var timer=opts.timer||{};var serverTime=opts.serverTime;var beginTime=opts.beginTime;var timeGap=serverTime-new Date().getTime();var d,h,m,s;var getHtml=function(string,d,h,m,s){return string.replace('dd',d).replace('hh',h).replace('mm',m).replace('ss',s);};var calculateTime=function(){var serverTime=new Date().getTime()+timeGap;var timeLeft=beginTime-serverTime;timeLeft=timeLeft>=0?Math.round(timeLeft/1000):0;return timeLeft;};var render=function(seconds){d=QZFL.string.fillLength(Math.floor(seconds/(3600*24)),2).slice(0,2);h=QZFL.string.fillLength(Math.floor(seconds%(3600*24)/3600),2).slice(0,2);m=QZFL.string.fillLength(Math.floor(seconds%3600/60),2).slice(0,2);s=QZFL.string.fillLength(seconds%60,2).slice(0,2);$e(ele).setHtml(getHtml(opts.tmpl,d,h,m,s));};var play=function(){stop();seconds=handler.seconds;if(seconds<0){return;}else if(seconds==0){opts.onPlay&&opts.onPlay(seconds);return;}
timer.tid=setTimeout(function(){seconds=calculateTime();render(seconds);if(seconds>0){timer.tid=setTimeout(arguments.callee,1000);}
handler.seconds=seconds;seconds>=0&&opts.onPlay&&opts.onPlay(seconds);},1000);};var stop=function(){clearTimeout(timer.tid);};var seconds=calculateTime();var handler={play:play,stop:stop,seconds:seconds,timer:timer};render(seconds);play();self.countDownTimeoutArr.push(handler);return handler;},clearCountDown:function(){var self=adapter;for(var i=0;i<self.countDownTimeoutArr.length;++i){self.countDownTimeoutArr[i]&&self.countDownTimeoutArr[i].timer&&clearTimeout(self.countDownTimeoutArr[i].timer.tid);}
self.countDownTimeoutArr=[];}};return adapter;});})(this,this.document);;(function(){module.declare('util','lang',function(lang){var util={};util.apply=function(o,c,defaults,overwrite){if(defaults)util.apply(o,defaults);if(o&&c&&typeof c=='object'){for(var p in c){if(overwrite!==false||!(p in o)){o[p]=c[p];}}}
return o;};util.apply(util,{emptyFn:function(){},isEmpty:function(v,allowBlank){return v===null||v===undefined||((util.isArray(v)&&!v.length))||(!allowBlank?v==='':false);},isArray:function(v){return Object.prototype.toString.apply(v)==='[object Array]';},each:function(array,fn,scope){if(util.isEmpty(array,true))return;if(typeof array.length=="undefined"||typeof array=="string"){array=[array];}
for(var i=0,len=array.length;i<len;i++){if(fn.call(scope||array[i],array[i],i,array)===false){return i;};}},namespace:function(){var o,d;util.each(arguments,function(v){d=v.split(".");o=window[d[0]]=window[d[0]]||{};util.each(d.slice(1),function(v2){o=o[v2]=o[v2]||{};});});return o;},bind:function(fn,scope,params){return function(){try{(fn||util.emptyFn).apply(scope||null,params||arguments);}catch(e){log.err('util','util.bind.'+fn.toString(),e.message);}};},toArray:function(arraylike,start,end){if(arguments.length==1&&typeof arguments[0]=='string'){var txt=arguments[0].replace(/\s+/g,'');return txt?txt.split(','):[];}else if(arguments.length>=1&&arguments[0].length){var len=arraylike.length,start=arguments.length>=2?start:0,end=arguments.length>=3?Math.min(end,len):len,arr=[];for(var i=start;i<end;i++){arr.push(arraylike[i]);}
return arr;}else if(arguments.length==1&&typeof arguments[0]=='object'){var arr=[];for(var key in arguments[0]){arr.push(key);}
return arr;}},choose:function(o,c,s,overwrite){o=o||{};if(!c)return o;var sa=util.toArray(s);for(var i=0,leni=sa.length;i<leni;i++){var name=sa[i],alias=sa[i];if(sa[i].indexOf('->')!=-1){name=sa[i].split('->')[0];alias=sa[i].split('->')[1];}
if(c&&c.hasOwnProperty(name)){if(overwrite===false&&o[alias])return;o[alias]=c[name];}}
return o;},issue:function(){if(!arguments||arguments.length<2)return false;var arg=arguments,argc=arg.length,ps=this.toArray(arg,0,argc-1),o=arg[arg.length-1];for(var i=0,leni=ps.length;i<leni;i++){this.apply(ps[i],o);}},isObject:function(v){return v&&typeof v=="object";},override:function(origclass,overrides){if(overrides){var p=origclass.prototype;util.apply(p,overrides);if(QZFL.userAgent.ie&&overrides.toString!=origclass.toString){p.toString=overrides.toString;}}},applyIf:function(o,c){if(o){for(var p in c){if(util.isEmpty(o[p])){o[p]=c[p];}}}
return o;},extend:(function(){var io=function(o){for(var m in o){this[m]=o[m];}};var oc=Object.prototype.constructor;return function(sb,sp,overrides){if(util.isObject(sp)){overrides=sp;sp=sb;sb=overrides.constructor!=oc?overrides.constructor:function(){sp.apply(this,arguments);};}
var F=function(){},sbp,spp=sp.prototype;F.prototype=spp;sbp=sb.prototype=new F();sbp.constructor=sb;sb.superclass=spp;if(spp.constructor==oc){spp.constructor=sp;}
util.override(sb,overrides);return sb;};})()});util.apply(util.url={},{s2o:function(url){if(!url)return{};var whole=/http:|https:|ftp:|file:/.test(url);var search='',pos1=url.indexOf('?');if(pos1==-1&&whole)return{};if(pos1==-1&&!whole){pos1=0;}
search=url.substring(pos1,url.indexOf('#')!=-1?url.indexOf('#'):url.length);var param={};search.replace(/((?:^|&|\?)[^?&]+)/ig,function(v){var sp=v.replace(/[\?&]/,'').split('=');param[sp[0]]=sp[1];return'';});return param;},o2s:function(param){var search=[];for(var key in param){search.push(key+'='+param[key]);}
return search.join('&');},setSearch:function(url,search,overwrite){var whole=/http:|https:|ftp:|file:/.test(url);var path=url.indexOf('?')!=-1&&whole?url.substring(0,url.indexOf('?')):url;var hash=url.indexOf('#')!=-1?url.substring(url.indexOf('#')):'';var search=util.url.o2s(util.apply(util.url.s2o(url),search,null,overwrite));return path+(search?'?'+search:'')+hash;},getSearch:function(url,key){return util.url.s2o(url)[key];}});util.apply(util.stat={},{createTag:function(){var re4abtest=/^\d+$/i;if(arguments.length>=0){if(arguments.length>=5){if(re4abtest.test(arguments[2])&&re4abtest.test(arguments[3])){return util.toArray(arguments,0,5).join('_');}else{return util.toArray(arguments,0,2).join('_');}}else if(arguments.length==4){var arr=util.toArray(arguments);if(/^\d+$/.test(arguments[0])){if(re4abtest.test(arguments[2])&&re4abtest.test(arguments[3])){return util.toArray(arguments,0,4).join('_');}else{return util.toArray(arguments,0,2).join('_');}}else{if(re4abtest.test(arguments[1])&&re4abtest.test(arguments[2])){return util.toArray(arguments,0,4).join('_');}else{return util.toArray(arguments,0,1).join('_');}}}else if(arguments.length==3){if(re4abtest.test(arguments[1])&&re4abtest.test(arguments[2])){return util.toArray(arguments,0,3).join('_');}else{return util.toArray(arguments,0,1).join('_');}}else{return util.toArray(arguments,0,2).join('_');}}else{return'';}},formatTag:function(tag,params){if(!tag)return;if(lang.isPortal){tag=tag.replace(/APPCANVAS/i,'PORTALAPPCANVAS')}
var strs=[];tag&&tag.indexOf('APPID')!=-1?strs.push(tag.replace(/APPID/,lang.appInfo.appid)):strs.push(tag);if(params&&params.hasOwnProperty('tid')&&params.hasOwnProperty('rid')){strs=strs.concat([params.tid,params.rid]);}
return strs.join('_');},tcss:{pv:function(tag){module.require('adapter',function(adapter){adapter.tcss.pv(util.stat.formatTag(tag),lang.stat.port);});},click:function(tag){module.require('adapter',function(adapter){adapter.tcss.click(util.stat.formatTag(tag),lang.stat.port);});}},oz:{exposureArr:[],exposureTimeout:null,clickArr:[],clickTimeout:null,url:{1:"http://analy.qq.com/cgi-bin/apptrace",2:"http://analy.pengyou.com/cgi-bin/apptrace"},send:function(tags,action,params){module.require('adapter',function(adapter){if(typeof tags=='string'){tags=[tags];}
var _url=util.url.setSearch(util.stat.oz.url[lang.isQZONE?1:2],util.apply({uin:adapter.getUin(),appid_via:'',appid_via_v2:'',appid_via_v3:'',platform:lang.platform,action:action},params));var tags1='',tags2='',tags3='';for(var i=0,leni=tags.length;i<leni;i++){tags[i]=util.stat.formatTag(tags[i],params);if(!tags[i])continue;if(_url.length+tags1.length+tags2.length+tags3.length+tags[i].length>2000){setTimeout(function(){util.stat.oz.send(tags.slice(i),action,params);});break;}
if(/^\d+_[^_]+_\d+_\d+_[^_]+$/.test(tags[i])){tags3+=(tags3.length?',':'')+tags[i];}else if(/^\d+_[^_]+_\d+_\d+$/.test(tags[i])){tags2+=(tags2.length?',':'')+tags[i];}else if(/^\d+_[^_]+$/.test(tags[i])){tags1+=(tags1.length?',':'')+tags[i];}}
if(tags1.length+tags2.length+tags3.length==0){return;}
util.ajax.ping(util.stat.oz.url[lang.platform],util.apply({uin:adapter.getUin(),appid_via:tags1,appid_via_v2:tags2,appid_via_v3:tags3,platform:lang.platform,action:action},params));});},count:{tags:0,batchSend:0,ctSend:0},exposure:function(tags,params){var self=this;if(typeof tags=='string'){tags=[tags];}
self.count.tags+=tags.length;if(params){self.send(tags,100,params);return;}
if(window.localStorage){var str=localStorage.getItem('___appcanvas__exposure')||'';str+=(str.length?',':'')+tags.join(',');try{localStorage.setItem('___appcanvas__exposure',str);}catch(e){self.exposureArr=self.exposureArr.concat(tags);}}else{self.exposureArr=self.exposureArr.concat(tags);}
if(self.exposureTimeout){return;}else{self.exposureTimeout=setTimeout(util.bind(function(){self.count.batchSend++;var arr=[];if(window.localStorage){var str=localStorage.getItem('___appcanvas__exposure')||'';if(!str)return;localStorage.removeItem('___appcanvas__exposure');arr=str.split(',');}else{arr=self.exposureArr;self.exposureArr=[];}
if(arr&&arr.length){self.send(arr,100,params);self.count.ctSend++;}
self.exposureTimeout=null;}),3000);}
this.initStat();},pool:[],timer4tab:null,initStat:function(){var self=this;this.initStat=function(){};function pingStat(){var url='http://isdspeed.qq.com/cgi-bin/mv.cgi?r='+Math.random()+'&count=4&id_1=350715&ret_1=1&code_1=1&time_1=500&rate_1='+self.count.tags+'&id_2=350715&ret_2=1&code_2=2&time_2=500&rate_2='+self.count.batchSend+'&id_3=350715&ret_3=1&code_3=3&time_3=500&rate_3=1&id_4=350715&ret_4=1&code_4=5&time_4=500&rate_4='+self.count.ctSend+'';var img=new Image();self.pool.push(img);img.src=url;}
if(window.addEventListener){window.addEventListener("beforeunload",function(){pingStat();},false);}else if(window.attachEvent){window.attachEvent("onbeforeunload",function(){pingStat();});}},click:function(tags,params){var self=this;if(typeof tags=='string'){tags=[tags];}
if(params){self.send(tags,200,params);return;}
self.clickArr=self.clickArr.concat(tags);if(self.clickTimeout){return;}else{self.clickTimeout=setTimeout(util.bind(function(){self.send(self.clickArr,200,params);self.clickArr=[];self.clickTimeout=null;}),1000);}},setup:function(tags,params){this.send(tags,300,params);}},code3:{timer4code:null,codeArr:[],codeInterval:3000,send:function(statId,type,ret,duration,rate){var self=this;if(window.localStorage){var str=localStorage.getItem('___appcanvas__code3list')||'';str+=(str.length?';':'')+[statId,type,ret,duration,rate].join(',');try{localStorage.setItem('___appcanvas__code3list',str);}catch(e){self.codeArr.push([statId,type,ret,duration,rate]);}}else{this.codeArr.push([statId,type,ret,duration,rate]);}
if(!this.timer4code){this.timer4code=setTimeout(function(){if(window.localStorage){var str=localStorage.getItem('___appcanvas__code3list')||'';if(!str)return;localStorage.removeItem('___appcanvas__code3list');var tmp=str.split(';');for(var i=0;i<tmp.length;i++){tmp[i]=tmp[i].split(',');}
arr=tmp;}else{arr=self.codeArr;}
self._send(arr);self.timer4code=null;},this.codeInterval);}},_send:function(arr){var self=this;module.require('adapter',function(adapter){var _url='http://isdspeed.qq.com/cgi-bin/mv.cgi?r='+Math.random()+'&count=';if(!arr||!arr.length)return;var substr='',suburl='',count=0;for(var i=0;i<arr.length;i++){arr[i].push(i+1)
substr='&id_{{5}}={{0}}&ret_{{5}}={{1}}&code_{{5}}={{2}}&time_{{5}}={{3}}&rate_{{5}}={{4}}'.replace(/{{(\d)}}/ig,function(str,m){return arr[i][m];});if(_url.length+suburl.length+substr.length>1900){setTimeout(function(){self._send(arr.slice(i-1));},0);break;}
suburl+=substr;count++;}
_url+=count;_url+=suburl;util.ajax.ping(_url);});}},code4:{timer4code:null,codeArr:[],codeInterval:3000,send:function(statId,type,ret,duration,rate){var self=this;if(window.localStorage){var str=localStorage.getItem('___appcanvas__codelist')||'';str+=(str.length?';':'')+[statId,type,ret,duration,rate].join(',');try{localStorage.setItem('___appcanvas__codelist',str);}catch(e){self.codeArr.push([statId,type,ret,duration,rate]);}}else{this.codeArr.push([statId,type,ret,duration,rate]);}
if(!this.timer4code){this.timer4code=setTimeout(function(){if(window.localStorage){var str=localStorage.getItem('___appcanvas__codelist')||'';if(!str)return;localStorage.removeItem('___appcanvas__codelist');var tmp=str.split(';');for(var i=0;i<tmp.length;i++){tmp[i]=tmp[i].split(',');}
arr=tmp;}else{arr=self.codeArr;}
self._send(arr);self.timer4code=null;},this.codeInterval);}},_send:function(arr){var self=this;module.require('adapter',function(adapter){var _url='http://c.isdspeed.qq.com/code.cgi?&uin='+adapter.getUin()+'&key=domain,cgi,type,code,time,rate&r='+Math.random();if(!arr||!arr.length)return;var substr='';for(var i=0;i<arr.length;i++){var index=i+1;substr=['',index+'_1='+(/^\d+$/.test(arr[i][0])?'https://qzonestyle.gtimg.cn/open/canvas/qzone/isdspeed.qq.com':'https://qzonestyle.gtimg.cn/open/canvas/qzone/canvas.qq.com'),index+'_2='+encodeURIComponent((/^\d+$/.test(arr[i][0])?'https://qzonestyle.gtimg.cn/cgi-bin/v.cgi?flag1=':'')+arr[i][0]),index+'_3='+arr[i][1],index+'_4='+arr[i][2],index+'_5='+arr[i][3],index+'_6='+arr[i][4]].join('&');if(_url.length+substr.length>2000){setTimeout(function(){self._send(arr.slice(i-1));},0);break;}
_url+=substr;}
util.ajax.ping(_url);});}},time:{timer4code:null,codeArr:[],codeInterval:3000,send:function(statId,type,ret,duration,rate){var self=this;if(window.localStorage){var str=localStorage.getItem('___appcanvas__timelist')||'';str+=(str.length?';':'')+[statId,type,ret,duration,rate].join(',');try{localStorage.setItem('___appcanvas__timelist',str);}catch(e){self.codeArr.push([statId,type,ret,duration,rate]);};}else{this.codeArr.push([statId,type,ret,duration,rate]);}
if(!this.timer4code){this.timer4code=setTimeout(function(){if(window.localStorage){var str=localStorage.getItem('___appcanvas__timelist')||'';if(!str)return;localStorage.removeItem('___appcanvas__timelist');var tmp=str.split(';');for(var i=0;i<tmp.length;i++){tmp[i]=tmp[i].split(',');}
arr=tmp;}else{arr=self.codeArr;}
self._send(arr);self.timer4code=null;},this.codeInterval);}},_send:function(arr){var self=this;module.require('adapter',function(adapter){var _url='http://isdspeed.qq.com/cgi-bin/mv.cgi?r='+Math.random()+'&count=';if(!arr||!arr.length)return;var substr='',suburl='',count=0;for(var i=0;i<arr.length;i++){arr[i].push(i+1)
substr='&id_{{5}}={{0}}&ret_{{5}}={{1}}&code_{{5}}={{2}}&time_{{5}}={{3}}&rate_{{5}}={{4}}'.replace(/{{(\d)}}/ig,function(str,m){return arr[i][m];});if(_url.length+suburl.length+substr.length>1900){setTimeout(function(){self._send(arr.slice(i-1));},0);break;}
suburl+=substr;count++;}
_url+=count;_url+=suburl;util.ajax.ping(_url);});}},performanceTimeStat:function(flag1,flag2,flag3,delay,zero){setTimeout(function(){var performance=window.performance||window.webkitPerformance||window.msPerformance;if(!performance||!window.TCISD){return;}
var list=zero?[zero,performance.timing.unloadEventStart,performance.timing.unloadEventEnd,performance.timing.redirectStart,performance.timing.redirectEnd,performance.timing.fetchStart,performance.timing.domainLookupStart,performance.timing.domainLookupEnd,performance.timing.connectStart,performance.timing.connectEnd,performance.timing.requestStart,performance.timing.responseStart,performance.timing.responseEnd,performance.timing.domLoading,performance.timing.domInteractive,performance.timing.domContentLoadedEventStart,performance.timing.domContentLoadedEventEnd,performance.timing.domComplete,performance.timing.loadEventStart,performance.timing.loadEventEnd,performance.timing.navigationStart]:[performance.timing.navigationStart,performance.timing.unloadEventStart,performance.timing.unloadEventEnd,performance.timing.redirectStart,performance.timing.redirectEnd,performance.timing.fetchStart,performance.timing.domainLookupStart,performance.timing.domainLookupEnd,performance.timing.connectStart,performance.timing.connectEnd,performance.timing.requestStart,performance.timing.responseStart,performance.timing.responseEnd,performance.timing.domLoading,performance.timing.domInteractive,performance.timing.domContentLoadedEventStart,performance.timing.domContentLoadedEventEnd,performance.timing.domComplete,performance.timing.loadEventStart,performance.timing.loadEventEnd];var o=new TCISD.TimeStat(null,[flag1,flag2,flag3].join('_')),length=list.length;o.zero=new Date(list[0]);for(var i=1;i<length;i++){o.mark(i,new Date(list[i]||list[0]));}
o.report();},delay||0);},customTimeStat:function(flag1,flag2,flag3,delay,arr){setTimeout(function(){if(!window.TCISD){return;}
var list=arr;var o=new TCISD.TimeStat(null,[flag1,flag2,flag3].join('_')),length=list.length;o.zero=new Date(list[0]);for(var i=1;i<length;i++){o.mark(i,new Date(list[i]||list[0]));}
o.report();},delay||0);}});util.apply(util.ajax={},{post:function(url,params,sucFn,errFn,opts){opts=opts||{};var g=new QZFL.FormSender(url,"POST",params,opts.charset||"utf-8");g.onSuccess=function(d){if(d.ret==(opts.successCode||0)){sucFn&&sucFn(d);}else{errFn&&errFn(d);}};g.onError=function(d){errFn&&errFn(d);};g.send("_Callback");},get:function(url,params,sucFn,errFn,opts){opts=opts||{};var g=new QZFL.JSONGetter(url,null,params,opts.charset||"utf-8");g.onSuccess=function(d){if(d.ret==(opts.successCode||0)){sucFn&&sucFn(d);}else{errFn&&errFn(d);}};g.onError=function(d){errFn&&errFn(d);};g.send("_Callback");},ping:function(url,params,delay){setTimeout(function(){QZFL.pingSender(util.url.setSearch(url+'?',params));},delay||0);},getPortConfig:function(name){var portConfig=lang.port[name];var o={},ps={};util.apply(o,portConfig,lang.port.defaultConfig);util.apply(o.code,portConfig.code,lang.port.defaultConfig.code);return o;},portByQZFL:function(name,params,sucFn,errFn){var self=this;module.require('adapter',function(adapter){var o=util.ajax.getPortConfig(name);if(!o)return;o.params=util.apply({},o.params,params);var g,st=adapter.getSvrTime(),et;if(o.type=='post'){g=new QZFL.FormSender(o.url,"POST",o.params,o.charset||"utf-8");}else{g=new QZFL.JSONGetter(o.url,null,o.params,o.charset||"utf-8");}
g.setReportRate&&g.setReportRate(lang.isQZONE&&!lang.isPortal?1000:10);g.onSuccess=function(d){try{try{o.codeFormatFn&&o.codeFormatFn.apply(this,[d]);}catch(e){}
if(d&&(typeof d.ret!='undefined')||(typeof d.code!='undefined')){if(typeof d.code!='undefined'){d.ret=d.code;}
if(o.code[d.ret]&&o.code[d.ret].type==1||o.code[d.code]&&o.code[d.code].type==1){sucFn&&sucFn(d);}else{errFn&&errFn(d);}}else{d=d||{};d.ret=9997;errFn&&errFn(d);}
util.ajax.code(name,d.ret,st);}catch(e){errFn&&errFn(d);log.err('util','ajax.port.onSuccess.'+name,e.message);util.ajax.code(name,9998,st);if(lang.rate100){util.stat.tcss.click('appcanvas.errorLog.'+name+'.'+encodeURI(e.message));}
if(lang.rate10000){var sender=new QZONE.FormSender('http://s.isdspeed.qq.com/cgi-bin/s.fcg',"POST",{dataId:1000083,time:adapter.getSvrTime()/1000,remark:'util.port.js.error',url:o.url,code:d.ret,errMsg:e.stack||e.message},'utf-8');sender.send();}}};g.onError=function(d){d=d||{};d.ret=9999;try{errFn&&errFn(d);}catch(e){log.err('util','ajax.port.onError.'+name,e.message);}
util.ajax.code(name,d.ret,st);};g.send("_Callback");});},port:function(name,params,sucFn,errFn){var self=this;module.require('adapter',function(adapter){var o=util.ajax.getPortConfig(name);if(!o)return;try{var so=util.url.s2o(location.href);if(so['debug_'+name+'_abtest']){var m=/^(\d+)_(\d+)$/.exec(so['debug_'+name+'_abtest']);if(m&&m.length==3){util.apply(params,{debug_abtest:1,debug_in_tid:m[1],debug_in_rid:m[2]});}else{util.apply(params,{debug_abtest:2});}}}catch(e){}
if(o.useXHR2){var supportlv2=(QZFL.userAgent.ie>9||window.XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest;if(supportlv2){util.ajax.portByXHR2(name,params,sucFn,errFn,function(){util.ajax.portByQZFL(name,params,sucFn,errFn);});}else{util.ajax.portByQZFL(name,params,sucFn,errFn);}}else{util.ajax.portByQZFL(name,params,sucFn,errFn);}});},portByXHR2:function(name,params,sucFn,errFn,sysErrFn){var self=this;module.require('adapter',function(adapter){var o=util.ajax.getPortConfig(name);if(!o)return;params=util.apply(params||{},{uin:adapter.getUin(),g_tk:adapter.getACSRFToken()});o.params=util.apply({},o.params,params);var g,st=adapter.getSvrTime(),et;function processText(str){var m=/\(\s*(\{.+\})\s*\)/.exec(str);if(m&&m.length){return m[1];}else if(str.indexOf('frameElement.callback')!=-1){var lidx=str.lastIndexOf(")"),rst=str.substring(str.lastIndexOf("frameElement.callback")+22,lidx==-1?str.length:lidx);if(str.indexOf("<script")>-1){return rst;}
return lidx>-1&&rst;}else{var lidx=str.lastIndexOf(")"),rst=str.substring(str.lastIndexOf("(")+1,lidx==-1?str.length:lidx);if(str.indexOf("<script")>-1){return rst;}
return lidx>-1&&rst;}}
function transdata(data){var ar=[];if(typeof data=='object'){for(var i in data){ar.push(i+'='+encodeURIComponent(data[i]));}}
return ar.join('&');}
function setHeader(xhr,kv){for(var i in kv){kv[i]&&xhr.setRequestHeader(i,kv[i]);}}
function createXHR(){var xhr;if(window.XMLHttpRequest)
xhr=new XMLHttpRequest;else if(window.ActiveXObject)
xhr=new ActiveXObject("Msxml2.XMLHTTP")||new ActiveXObject("Microsoft.XMLHTTP");return xhr;}
var handler=function(){if(this.readyState==this.DONE){client.onreadystatechange=QZFL.emptyFn;if(this.status>=200&&this.status<300){var txt=processText(this.responseText),d;try{d=eval("("+txt+")");try{o.codeFormatFn&&o.codeFormatFn.apply(this,[d]);}catch(e){}
if(d&&(typeof d.ret!='undefined')||(typeof d.code!='undefined')){if(typeof d.code!='undefined'){d.ret=d.code;}
if(o.code[d.ret]&&o.code[d.ret].type==1||o.code[d.code]&&o.code[d.code].type==1){sucFn&&sucFn(d);}else{errFn&&errFn(d);}}else{d=d||{};d.ret=9997;errFn&&errFn(d);}
util.ajax.code(name,d.ret,st,true);}catch(e){errFn&&errFn(d);log.err('util','ajax.port.onSuccess.'+name,e.message);util.ajax.code(name,9998,st,true);if(lang.rate100){util.stat.tcss.click('appcanvas.errorLog.'+name+'.'+encodeURI(e.message));}
if(lang.rate10000){var sender=new QZONE.FormSender('http://s.isdspeed.qq.com/cgi-bin/s.fcg',"POST",{dataId:1000083,time:adapter.getSvrTime()/1000,remark:'util.port.js.error',url:o.url,code:d.ret,errMsg:e.stack||e.message},'utf-8');sender.send();}}}else{sysErrFn&&sysErrFn();self.code(name,9000+this.status,QZONE.FP.getSvrTime()-st,true);}}};try{var url=o.url;if(o.type.toUpperCase()=='GET'){url=util.url.setSearch(url,params);}
url=util.url.setSearch(url,{'g_tk':QZFL.pluginsDefine.getACSRFToken()});var client=createXHR();client.onreadystatechange=handler;client.onerror=function(){sysErrFn&&sysErrFn();self.code(name,9900,QZONE.FP.getSvrTime()-st,true);};client.withCredentials=true;client.open(o.type.toUpperCase(),url);o.type.toUpperCase()=='POST'&&setHeader(client,{'Content-Type':'application/x-www-form-urlencoded'});o.type.toUpperCase()=='POST'?client.send(transdata(params)):client.send();}catch(e){sysErrFn&&sysErrFn();util.ajax.code(name,9996,st,true);}});},code:function(name,code,st,isXHR2){module.require('adapter',function(adapter){var o=util.ajax.getPortConfig(name);if(!o)return;if(!o.statErrorLevel)return;var codeObj=o.code[code];if(!codeObj){codeObj={type:3};};switch(codeObj.action){case"alertSuc":adapter.alertSuc(codeObj.msg);break;case"alertMsg":adapter.alertMsg(codeObj.msg);break;case"alertErr":adapter.alertErr(codeObj.msg);break;}
util.stat.code3.send(isXHR2?o.errorLevelD4XHR2:o.errorLevelID,codeObj.type,code,typeof st=='number'?st:adapter.getSvrTime()-st,o.errorLevelRate);});}});util.apply(util.event={},{delegate:function(el,selector,eventName,fn){var els;if(typeof el=='string'){els=$e(el).elements;}else if(el&&el.tagName){els=[el];}else if(el&&el.length){els=el;}else{return;}
util.each(els,function(el){QZFL.event.delegate(el,selector,eventName,function(){var index=this.getAttribute('_idx');if(index){index=parseInt(index);}
if(isNaN(index)){return;}
fn.apply(this,[index,el]);});});},undelegate:function(el,selector,eventName,fn){}});util.apply(util.anim={},{onHover:function(el,focusFn,blurFn,delay,delay_pre){if(!delay)return $e(el).onHover(focusFn,blurFn);var timer,timer2pre,hovered=false;$e(el).onHover(function(){var ele=this;clearTimeout(timer);timer=null;if(hovered)return;if(delay_pre){if(timer2pre)return;timer2pre=setTimeout(function(){hovered=true;focusFn.apply(ele);},delay_pre);}else{hovered=true;focusFn.apply(this);}},function(){var self=this;clearTimeout(timer2pre);timer2pre=null;if(timer)return;timer=setTimeout(function(){hovered=false;blurFn&&blurFn.apply(self);},delay);});}});return util;});})(window,window.document);﻿;(function(){module.dec('observable','lang, util, adapter',function(lang,util,adapter){var __Event=function(obj,name){this.name=name;this.obj=obj;this.listeners=[];};__Event.prototype={addListener:function(fn,scope,options){this.listeners.push({fn:fn,scope:scope||this.obj,options:options,fireFn:fn});},findListener:function(fn,scope){scope=scope||this.obj;for(var i=0,leni=this.listeners.length;i<leni;i++){if(this.listeners[i]&&this.listeners[i].fn==fn&&this.listeners[i].scope==scope){return i;}}
return-1;},removeListener:function(fn,scope){var index=this.findListener(fn,scope);index!=-1&&this.listeners.splice(index,1);},clearListeners:function(){this.listeners=[];},fire:function(){if(this.listeners.length){var args=Array.prototype.slice.call(arguments,0);for(var i=0;i<this.listeners.length;i++){if(this.listeners[i]&&this.listeners[i].fireFn.apply(this.listeners[i].scope||this.obj||window,args)===false){return false;}}}
return true;}};var observable=function(config){this.events={};util.apply(this,config);};observable.prototype={addEvents:function(o){this.events=this.events||{};if(typeof o=='string'){var a=arguments,i=a.length;while(i--){this.events[a[i]]=this.events[a[i]]||new __Event(this,a[i]);}}
else{util.apply(me.events,o,{},false);}},fireEvent:function(ename,obj){if(!this.events[ename]){return true;}
return this.events[ename].fire.apply(this.events[ename],Array.prototype.slice.call(arguments,1));;},addListener:function(eventName,fn,scope,o){if(!this.events[eventName]){return;}
this.events[eventName].addListener(fn,scope,typeof o=='object'?o:{});},removeListener:function(eventName,fn,scope){var ce=this.events[eventName];if(typeof ce=='object'){if(fn&&typeof fn=='function'){ce.removeListener(fn,scope);}
else{ce.clearListeners();}}},purgeListeners:function(){var events=this.events,evt,key;for(key in events){evt=events[key];if(typeof evt=='object'){evt.clearListeners();}}},suspendEvents:function(queueSuspended){this.eventsSuspended=true;if(queueSuspended&&!this.eventQueue){this.eventQueue=[];}},resumeEvents:function(){var me=this,queued=me.eventQueue||[];me.eventsSuspended=false;delete me.eventQueue;util.each(queued,function(e){me.fireEvent.apply(me,e);});}};observable.prototype.on=observable.prototype.addListener;observable.prototype.un=observable.prototype.removeListener;return observable;});})(window,window.document);;;;(function(global,DOC,undefined){module.declare('canvas','observable, template, lang, util, adapter',function(observable,template,lang,util,adapter){var base=QZONE.appCanvas.base,canvas=new observable();util.apply(base,canvas,null);base.addEvents('onInit','beforeToApp','toApp','onExit','beforeAppInfoLoad','onAppInfoLoad','onAppInfoError','beforeLoadJs','onLoadJs','beforeDataLoad','onDataLoad','onDataError');util.apply(base,{code:function(){var arg=Array.prototype.slice.call(arguments,0);util.ajax.code.apply(util.ajax,arg);},getData:function(opts,sessionID){var self=this;var data={appid:lang.appInfo.appid,need_num:15,start:1,end:4,need_bbs:1,toplist_message:1};if(opts&&opts.appType=='small'){data['switch']=1;}
if(opts&&opts.enableNewFeeds){data['inviteonly']=2;}
if(lang.isQZONE&&!lang.isPortal){data['isyellow']=(QZONE.FP.getUserVIPLevel(true)!=0)?2:1;}
self.fireEvent('beforeDataLoad',data,sessionID);util.ajax.port('appinfo',data,function(d){self.fireEvent('onDataLoad',d,sessionID);},function(d){self.fireEvent('onDataError',d,sessionID);});},getData2:function(opts,sessionID,cb){var self=this;var data={appid:lang.appInfo.appid,huin:adapter.getUin(),spacetime:0,pf:lang.isQZONE?'qzone':'pengyou',norepeat:self.enableNoRepeat?1:0,activemessage:self.enableActiveMessage?1:0,op_ivt:opts.op_ivt,scence:opts.scence};util.ajax.port('appfeeds',data,function(d){cb&&cb(d);},function(d){if(self.sessionID!=sessionID)return;});},rightFixedHandler:util.bind(function(){var tbHeight=lang.isQZONE?$e('.gb_toolbar').elements.length?($e('.gb_toolbar').eq(0).getBoundingClientRect().top+$e('.gb_toolbar').eq(0).offsetHeight):34:0,adContainer=$e('#appCanvasgg, #appCanvasAd'),adContainerY=adContainer.getXY()[1],fixedContainer=$e(adContainer.find('ul:eq(0)')),fixedContainerHeight=fixedContainer.eq(0).offsetHeight,p=adContainer.getParent(),pn=$e(QZFL.dom.getPreviousSibling(adContainer.eq(0))),mainC=$e('.main_col'),mainCHeight=mainC.eq(0).offsetHeight,mainCTop=mainC.eq(0).getBoundingClientRect().top,mainCY=mainC.getXY()[1],maxTop=mainCHeight-fixedContainerHeight-adContainerY;if(fixedContainerHeight+adContainerY>=mainCY+mainCHeight){fixedContainer.removeClass('right_col_fix').setStyle('top','');return;}
if(adContainer.eq(0).getBoundingClientRect().top<=tbHeight){fixedContainer.addClass('right_col_fix').setStyle('top',Math.min(mainCHeight+mainCTop-fixedContainerHeight,tbHeight)+'px');}else{fixedContainer.removeClass('right_col_fix').setStyle('top','');}},base),enableRightFixed:function(){this.disableRightFixed();if(QZFL.userAgent.ie<=6)return;$e(document).bind('scroll',base.rightFixedHandler);$e(window).bind('scroll',base.rightFixedHandler);this.rightFixedHandler();},disableRightFixed:function(){$e('.right_col_border').removeClass('right_col_fix').setStyle('top','');if(QZFL.userAgent.ie<=6)return;$e(document).unBind('scroll',base.rightFixedHandler);$e(window).unBind('scroll',base.rightFixedHandler);}});return base;});})(this,this.document);﻿
(function(global,DOC,undefined){module.declare('template','lang, util, adapter',function(lang,util,adapter){var cache={};function tmpl(str,data){var fn=!/\W/.test(str)?cache[str]=cache[str]||tmpl(document.getElementById(str).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};"+"with(obj){p.push('"+
str.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")
+"');}return p.join('');");return data?fn(data):fn;};return{tmpl:{},get:function(key,data){util.apply(data,{lang:lang,util:util,adapter:adapter});return tmpl(this.tmpl[key].replace(/'/g,"&quot;"),data);}};});})(window,window.document);﻿;(function(global,DOC,undefined){var test=1;module.require('lang, util, adapter',function(lang,util,adapter){module.max_age='41316';module.versions={"action":{"htmlversion":"ed2727ca7db3ddd51565051a4b31c592","jsversion":"b65a6ff4d77fb345a3bc7a8c9fcb9d51","jslength":4613},"add2qqpanel":{"htmlversion":"null","jsversion":"188f37175c3b188cdb42516f640bb0aa","jslength":1197},"appassit":{"htmlversion":"null","jsversion":"528080dc53743c863d080a2fa5d687ab","jslength":2242},"appcentertips":{"htmlversion":"7cc0725b97fd4a46dd1705492dc29522","jsversion":"9e4fa8b9c38c1447730431d91216a8dc","jslength":6582},"applist":{"htmlversion":"b9f7112d1e8578956010fca7963e2b9d","jsversion":"526357f130bf41a00c1451b0e9b17d97","jslength":4697},"attention":{"htmlversion":"b8bf858ba544b3b562bb6d1dcbb8dfbe","jsversion":"529abf13c27cc1732afa63c4fd2ccf81","jslength":2133},"balance":{"htmlversion":"74815a02e81bfcf98f707c39033dbdc9","jsversion":"762142319726014429ff85012eb708f6","jslength":4551},"balance_new":{"htmlversion":"null","jsversion":"85ac52749e32f0ec22554e1428179937","jslength":954},"bbs":{"htmlversion":"c980db48fee9739931461f5241bc0aa2","jsversion":"24437d5adc5c07222880c0caaba3a894","jslength":2731},"bottompicture":{"htmlversion":"1b80262a47e8bcad98578c20246ba2cd","jsversion":"23a70c5b1f936ed42fcf37eec5d7b7e2","jslength":2471},"bottomsocial":{"htmlversion":"49f6323be00f5dda0d6c66f7de2a2562","jsversion":"62a82cb1ea5a43d4383fbcbf885235a2","jslength":4096},"bottom_apps":{"htmlversion":"704735e6a9017306be159d2be9116d65","jsversion":"ebabccc8a7a05b722d756235f44341d6","jslength":1730},"box":{"htmlversion":"null","jsversion":"02eb6216bbc7d5c0cec864272f0b803c","jslength":4462},"coreusersrecom":{"htmlversion":"c60ed762ccf0f2c1023e4088a3fea902","jsversion":"4559c6381b19d92cb5c834ef752e5c2e","jslength":3226},"ct":{"htmlversion":"null","jsversion":"5c2565c69641dc95bdc4b8d4c966de3c","jslength":11719},"downloadapp":{"htmlversion":"null","jsversion":"ce088bc78729ad2741adf79e33c78844","jslength":6139},"dragdrop":{"htmlversion":"null","jsversion":"67cee67ee446411212505e8a222d690f","jslength":4040},"fanli":{"htmlversion":"null","jsversion":"7443b6b1dc017d94d35d7f70baae6b24","jslength":1803},"friendhotplay":{"htmlversion":"cdb0691d92b74c2da99c9d115c1977e7","jsversion":"beb10fd06f308289be3c9034ddb7270a","jslength":9340},"game":{"htmlversion":"b9f08b0fde1a04dcf4ef5f63bd396fe6","jsversion":"dbe0c3c50515271404c27854119cb27f","jslength":2187},"gamerank":{"htmlversion":"36d048f9b775e74509cfb0bd54ab309c","jsversion":"a809960fffaaa330d60bb1d1f288a809","jslength":9454},"gamespeed":{"htmlversion":"null","jsversion":"82f390661093ca7527e3c1d8a20e7668","jslength":1109},"game_new":{"htmlversion":"4e935eb0a280a055842b8fd8f79de6bd","jsversion":"e383f0a58fe68b24f3e81855cab92aaf","jslength":2226},"gdt":{"htmlversion":"null","jsversion":"dbf00fe503f8fc128f87bcf2b6a4df43","jslength":1275},"gift":{"htmlversion":"6c84b005425193922d5fa250354e03d4","jsversion":"b7ed49dfce0a5d3a317eb83012ecaffb","jslength":5576},"giftaction":{"htmlversion":"c21d393a35f4d12cdce83ec48b510151","jsversion":"b83383801e25a2696e60a98a7775535c","jslength":1291},"goldcouponactivity":{"htmlversion":"null","jsversion":"4aede001f8311c5d14c287a5c5d3aff9","jslength":2607},"goldcouponbubble":{"htmlversion":"06d5e593190e6bf49286ce7e11bf159d","jsversion":"5000a4a80aef67fced44c45722146516","jslength":4037},"goldcoupon_new":{"htmlversion":"null","jsversion":"810bf9a1c238032f58a6537fe5f22fea","jslength":1140},"group":{"htmlversion":"fa6cf77d56221954ad289883c0bed1d9","jsversion":"76643b0b8803410f2061ca956f7d06aa","jslength":12814},"guessyoulike":{"htmlversion":"a91f500db37e9b317d11ac3d8d84492a","jsversion":"bd0c1ce7313ab05b234eb2309fcaa1b6","jslength":3301},"hint":{"htmlversion":"f703702e899a08e9c2cd04eb2c92f408","jsversion":"333f49ac2544034e03d17aea467be694","jslength":1580},"hotplay":{"htmlversion":"ab8dfc506cb5154d5f63e64062908cbd","jsversion":"c519ad39a4d8985ad89ecce14262f2ce","jslength":20958},"html5":{"htmlversion":"null","jsversion":"791751ad6b110c7246345df1e4c248d4","jslength":983},"installTips":{"htmlversion":"f9c0f527da3249c157938a0331a478b4","jsversion":"27c4c87435bfabb416ff1db79cfbb498","jslength":1973},"interest":{"htmlversion":"b93c3533f6ba39adbb8d1a5d365db842","jsversion":"0af9f7200fa3a2bd806b5a062e14dca9","jslength":10956},"invite":{"htmlversion":"73966d5cfe18add5f3397a89b6a97919","jsversion":"38fbb163779058120a3a1b4783764726","jslength":7373},"jubao":{"htmlversion":"null","jsversion":"a9d836d2b804e1f28a7ce67806b2dccf","jslength":1659},"mobileaction":{"htmlversion":"null","jsversion":"cb24f8890602a1f19f955e2925c7c044","jslength":2120},"mobileentrance":{"htmlversion":"null","jsversion":"63714160c7df64fe7c575404a503dc04","jslength":814},"mobileentrance_new":{"htmlversion":"null","jsversion":"d412f18386e7f549ed95762fc91f8ad9","jslength":520},"msglist":{"htmlversion":"73ed750249c66ad46d45dc81016c6093","jsversion":"d1b1c44d2715f5cb53d46377e80ffddf","jslength":33780},"mybox":{"htmlversion":"bfc860585c0ee67e56ec2d7979ac72ab","jsversion":"0662e5f6ade8a1ef976834352e45d1de","jslength":7444},"newmsglist":{"htmlversion":"a185b6bd075286a5fbd2fe10fd49f762","jsversion":"833462a50fe8e5ae723542491a0daa18","jslength":16103},"offwar":{"htmlversion":"null","jsversion":"46e10c2a53c3222823419b7d58c2d66e","jslength":713},"picture":{"htmlversion":"418a0a19ecd9ea910652e185076978d7","jsversion":"2d238e68df961337c72b898ef8826413","jslength":1335},"playagain":{"htmlversion":"311149ad261fbf9def1610a5872edc77","jsversion":"f0fa1c21d747889e1bc7e94b828706d9","jslength":3687},"popular":{"htmlversion":"830982b712b4834eaef05176c13c3f2d","jsversion":"b31d03140ee1dad26779be71fa2088db","jslength":6487},"quicklinks":{"htmlversion":"f519468f0165d675d85b9c87917e4f52","jsversion":"3fb2119431f97d2dffc98f5c5457a9f5","jslength":2742},"reallygift":{"htmlversion":"b24ab468a2148880240830ed72e4d3a4","jsversion":"64647822a7cc194a751748321a918d67","jslength":5201},"recentapplist":{"htmlversion":"6de121ffadb0fbc1ca1093aade7b3344","jsversion":"c8b68120cf14a04c64afa0675329f5fe","jslength":14342},"recommend":{"htmlversion":"e436af04076845c69aa0f6bab86273a7","jsversion":"4b8d229c2c5e91c1ddec913ce6765f1e","jslength":8446},"recommendshow":{"htmlversion":"1e99c47f5ebc933e0826fd1a1c1d9081","jsversion":"4bf33786e2b43512d323016de082a38d","jslength":8295},"refluxgift":{"htmlversion":"045a361ff0fc09b077041fca222ca412","jsversion":"b547d6ffa495aca23c7103d9c8362b98","jslength":2924},"rightbottomtips":{"htmlversion":"226e29028c7339c1f0b60220e9e30f21","jsversion":"1019db03faf8f64c860d74937a329276","jslength":4833},"righttopqboss":{"htmlversion":"null","jsversion":"13583aae36520acbf13f18090cd98ced","jslength":1179},"score":{"htmlversion":"3dfce3ab6523196998a5c2655cb0f345","jsversion":"753f9d24bc60b644089d6fafbc124640","jslength":3233},"score_new":{"htmlversion":"3efa63bfe178bbf5a8aaaebbbf5d4ccb","jsversion":"50beededb64714a4f2084d80bc5cded0","jslength":2435},"search":{"htmlversion":"null","jsversion":"5ab442dacefacf0b10ba6061930ed3d1","jslength":1254},"settings":{"htmlversion":"null","jsversion":"346d17bf3eb6acc535e25940f71abf8c","jslength":2472},"share":{"htmlversion":"ba32dfed72b0fe788ca8e5e8cc0cbe09","jsversion":"34fd6de6995e83770b3904ba96288b2e","jslength":9160},"shopping":{"htmlversion":"6d14994b8cdf3b31c4502668fde06e76","jsversion":"78aec425b3c96fe3c0b1a11f72579b91","jslength":3879},"stat":{"htmlversion":"null","jsversion":"9d5319a9c960226c9467d5993b4b4aea","jslength":2823},"tab":{"htmlversion":"2e8670ce6e9980260461f46016aac790","jsversion":"09a343d5c49960a5398f20842230c61a","jslength":4424},"tab_new":{"htmlversion":"4f8241c87a0c7ebd4b26244403f6f74c","jsversion":"5941b6d7769342e552f46821a05d5a9f","jslength":3298},"tasklist":{"htmlversion":"f508467f8f55b3787b74f333aa68d939","jsversion":"6aa6129751269c6f9182192e7a1c42d4","jslength":2889},"taskmarket":{"htmlversion":"52f7ec2d3f6b7501dbf8bf93761c2e2f","jsversion":"2a5afe1f958e2960d695e548b9b0ecd9","jslength":8928},"tips":{"htmlversion":"a465451517c2cf6e4099263e0a095abf","jsversion":"844b15cbb0a3824a4f846e2fafee72d2","jslength":2732},"todayrecom":{"htmlversion":"46e3110fc8f7ca094ed82dbfd5986403","jsversion":"b5db055e0fa40aac00e57db265a18c6d","jslength":4183},"topbanner_new":{"htmlversion":"a3a969afd56188281e63e434c11ff92f","jsversion":"b096008790e6087ad0ca0b32d1f75119","jslength":4504},"vip":{"htmlversion":"null","jsversion":"2645f1eaf091d4c884f88bcc6b72049e","jslength":1185},"vip_new":{"htmlversion":"null","jsversion":"ed9d38076b0c242bf46f692a08bbd68e","jslength":1251},"yyb_ad":{"htmlversion":"7e76c8f625a3b050251efeac5e251866","jsversion":"b04d0b9260c477e3f2ed41154b9ce83a","jslength":3188},"yyb_goldinfo":{"htmlversion":"2f8da306b4da1c51e1cb48a2f4506c1f","jsversion":"3b8bdd03011443f0761d82fd6a9c8567","jslength":3293},"yyb_guess":{"htmlversion":"e5f0fc01e3c2de934e62ca9918517b33","jsversion":"755d48c1685d893547b257b629e3c214","jslength":2378},"yyb_playing":{"htmlversion":"ee7905b1c2e681d2385e963fe15267d6","jsversion":"142b9421149a36573c32f44ea63802af","jslength":1712},"yyb_survey":{"htmlversion":"1515f209c876cba8b315d233008589f9","jsversion":"89ad3a1b03dd8d0bf5b0843786fbf8f7","jslength":3603}};module.md5='666cff48a033277aae7425f558ed0b70';util.namespace('QZONE.appCanvas');function req(){module.req.apply(module,arguments);}
function def(){module.dec.apply(module,arguments);}
util.apply(QZONE.appCanvas,{module:module,log:log,util:util,adapter:adapter,lang:lang,req:req,def:def});req('canvas',function(canvas){canvas.on('onInit',function(){lang.isDEBUG=location.search.indexOf("?DEBUG")!=-1;lang.rate2=Math.random()*2<=1||lang.isDEBUG;lang.rate10=lang.rate2&&Math.random()*5<=1||lang.isDEBUG;lang.rate100=lang.rate10&&Math.random()*10<=1||lang.isDEBUG;lang.rate1000=lang.rate100&&Math.random()*10<=1||lang.isDEBUG;lang.rate10000=lang.rate1000&&Math.random()*10<=1||lang.isDEBUG;if(lang.isQZONE){$e('#appCanvasAssistantLink, #appCanvasAssistantNum, #appCanvasMyApp, #appCanvasMyAppNum, #appCanvasTrends, #appCanvasTrendsWithoutA').setAttr('href',adapter.getAssistantUrl({adtag:'appcanvas'})).setAttr('target','_blank');}
$e('#appCanvasAppCenterLink').setAttr('href',adapter.getAppCenterUrl({via:'appcanvas'})).setAttr('target','_blank');if(lang.isQZONE){$e('#appCanvasMessageNum').setAttr('href',adapter.getAppCenterUrl({via:'appcanvas'})).setAttr('target','_blank').bind('click',function(){setTimeout(util.bind(function(){$e('#appCanvasMessageNum').setHtml('').hide();}),200);});}
module.req('observable, box, util',function(){});module.batch('stat','init');});canvas.on('beforeToApp',function(){});var first=true;canvas.on('toApp',function(cfg,appInfo,sessionID){this.init();if(this.sessionID!=sessionID)return;adapter.clearGDTData&&adapter.clearGDTData();util.apply(lang,{appInfo:appInfo,appType:$e("#appCanvasDiv").hasClass("page_1024_less")?'small':'normal',enableNewFeeds:true,hideCrossMarketingArea:/^(333|348|356|361|905|201|206|100673497|100627061)$/.test(appInfo.appid),mm:{}});if(lang.appType=='normal'){$e('#appCanvasAppTab, #appCanvasAppInfo, #appCanvasIfm, #appCanvasDivRight>.right_col_border').show();$e('#appCanvasTopbar').hide();$e('#appCanvasInviteFriendList2').setHtml('');$e('#appCanvasInterestList').setHtml('');}else{$e('#appCanvasTopbar, #appCanvasAppTab, #appCanvasAppInfo, #appCanvasIfm').show();$e('#appCanvasDivRight>.right_col_border').hide();}
if(lang.hideCrossMarketingArea){$e('.page').addClass('page_app_default');}else{$e('.page').removeClass('page_app_default');}
var objs=module.getsandbox();for(var n in objs){if(objs[n].flag=='ready'){objs[n].obj&&objs[n].obj.clear&&objs[n].obj.clear();}}
var currentModules=(this.currentModules=this.currentModules||{});currentModules['action']=!lang.hideCrossMarketingArea;currentModules['ad']=!lang.hideCrossMarketingArea&&lang.appType=='normal';currentModules['jubao']=!lang.hideCrossMarketingArea;currentModules['mybox']=!lang.hideCrossMarketingArea;currentModules['quicklinks']=!lang.hideCrossMarketingArea;currentModules['share']=!lang.hideCrossMarketingArea;currentModules['vip']=!lang.hideCrossMarketingArea;currentModules['action']&&module.batch('action','init');currentModules['ad']&&module.batch('ad','show');currentModules['jubao']&&module.batch('jubao','show',[lang.appInfo.appid,lang.appInfo.alias]);currentModules['mybox']&&module.batch('mybox','show');currentModules['quicklinks']&&module.batch('quicklinks','show',[lang.appInfo.appid]);currentModules['share']&&module.batch('share','show',[lang.appInfo.appid,lang.appInfo.alias,lang.appInfo.desc]);currentModules['vip']&&module.batch('vip','show');req('stat',function(stat){var via=undefined;if(lang.isQZONE&&!lang.isPortal){if(cfg.paras&&cfg.paras.search){via=util.url.getSearch(cfg.paras.search,'via');}}else{via=util.url.getSearch(location.href,'via');if(!via){via=util.url.getSearch(location.hash.replace(/^#/,''),'via')||'';}}
stat.pv(via);stat.used(via);});util.stat.oz.exposure(util.stat.createTag(10,'APPCANVAS.APPSTORE'));canvas.getData({appType:lang.appType,enableNewFeeds:lang.enableNewFeeds},sessionID);if(lang.isQZONE&&!lang.isPortal&&first&&lang.rate100&&'_s_'in window){var time=new Date()-_s_.getTime()-(adapter.getSvrTime()-canvas.cfg.entertime),code=0;if(/^http:\/\/user.qzone.qq.com/.test(location.href)){var m=/^http:\/\/user.qzone.qq.com\/\d+\/(\d+)/.exec(location.href);if(m&&m.length&&lang.appInfo.appid==m[1]){code=9991;}else{code=9992;}}else if(/^http:\/\/rc.qzone.qq.com\//.test(location.href)){var m=/^http:\/\/rc.qzone.qq.com\/(\d+)/.exec(location.href);if(!m){m=/^http:\/\/rc.qzone.qq.com\/myhome\/(\d+)/.exec(location.href);}
if(m&&m.length&&m[1]==lang.appInfo.appid){code=9993;}else{code=9994;}}else{code=9995;}
canvas.code('refer',code,time);}
first=false;if(QZFL.userAgent.chrome){if(lang.isQZONE&&!lang.isPortal&&lang.rate100){util.stat.performanceTimeStat(7721,107,38,0);}else if(lang.isPortal){util.stat.performanceTimeStat(7721,107,37,0);}else if(lang.isPY){util.stat.performanceTimeStat(7721,107,39,0);}}
module.abtest&&window.localStorage&&module.load();});canvas.on('onAppInfoLoad',function(d,sessionID){});canvas.on('onAppInfoError',function(d,sessionID){});canvas.on('onDataLoad'https://qzonestyle.gtimg.cn/open/canvas/qzone/,function(d,sessionID){if(this.sessionID!=sessionID)return;lang.appInfo.hasmobile=d.hasmobile;lang.now=d.now?new Date(d.now*1000):adapter.getSvrTime();var currentModules=(this.currentModules=this.currentModules||{});currentModules['score']=!lang.hideCrossMarketingArea;currentModules['attention']=!lang.hideCrossMarketingArea&&lang.isQZONE&&!!d.tencentpage_id;currentModules['appassit']=!lang.hideCrossMarketingArea&&lang.isQZONE;currentModules['interest']=!lang.hideCrossMarketingArea&&lang.isQZONE&&lang.appType!='normal';currentModules['tab']=!lang.hideCrossMarketingArea;currentModules['balance']=!lang.hideCrossMarketingArea;currentModules['html5']=!lang.hideCrossMarketingArea&&d.ishtml5&&QZFL.userAgent.ie&&QZFL.userAgent.ie<9;currentModules['offwar']=lang.appInfo.appstate==4;currentModules['coreusersrecom']=d&&d.sank_user&&d.sank_user.show_type==1&&/[0-8]/.test(adapter.getUin()%10);currentModules['game']=!lang.hideCrossMarketingArea&&lang.appType=='normal'&&d.app_server_v3&&d.app_server_v3.length;var firstInstall;if(lang.isQZONE&&!lang.isPortal&&lang.appInfo.appid==388&&/[0-4]/.test(adapter.getUin()%10)){firstInstall=util.url.getSearch(this.cfg.paras&&this.cfg.paras.search||'','app_isfirst')==1&&QZFL.cookie.get('firstInstall')!=adapter.getUin();firstInstall?QZFL.cookie.set('firstInstall',adapter.getUin(),'https://qzonestyle.gtimg.cn/open/canvas/qzone/qzone.qq.com',null,24):'';}
currentModules['installTips']=firstInstall;currentModules['score']&&module.batch('score','loadData',[d.app_score_data]);currentModules['attention']&&module.batch('attention','loadData',[d.tencentpage_id,d.hasFollow]);currentModules['appassit']&&module.batch('appassit','show',[d.toplist_newapp_count]);currentModules['interest']&&module.batch('interest','loadData',[d.uninstall_data||[],5,d.abtest_newmaybelike||[]]);currentModules['tab']&&module.batch('tab','loadData',[d.display_tab||[]]);currentModules['mobileentrance']&&module.batch('mobileentrance','init');currentModules['balance']&&module.batch('balance','loadData',[d.gold_info]);currentModules['html5']&&module.batch('html5','show');currentModules['offwar']&&module.batch('offwar','show',[lang.appInfo.alias]);currentModules['installTips']&&module.batch('installTips','show',[lang.appInfo.appid,lang.appInfo.alias]);currentModules['bbs']=!lang.hideCrossMarketingArea&&lang.appType=='normal'&&lang.isQZONE&&d.bbsInfo&&d.bbsInfo.threads&&d.bbsInfo.threads.length>=3;currentModules['playagain']=!lang.hideCrossMarketingArea&&lang.appType=='normal'&&lang.isQZONE&&!lang.isPortal&&/^(353|358)$/.test(lang.appInfo.appid)&&d.attach_area&&d.attach_area.backapp_flag==1;currentModules['recommend']=!lang.hideCrossMarketingArea&&lang.appType=='normal'&&d.appright_abtest_ruleid!=3;currentModules['recommendshow']=!lang.hideCrossMarketingArea&&lang.appType=='normal'&&d.appright_abtest_ruleid==3;currentModules['invite']=!lang.hideCrossMarketingArea&&lang.appType=='normal'&&!/^(353|358)$/.test(lang.appInfo.appid);currentModules['applist']=!lang.hideCrossMarketingArea&&lang.appType=='normal';currentModules['fanli']=!!(!lang.hideCrossMarketingArea&&lang.appType=='normal'&&lang.isQZONE&&d.fanli_info&&d.fanli_info.display);currentModules['popular']=false;currentModules['msglist']=!lang.hideCrossMarketingArea&&lang.appType=='normal';currentModules['newmsglist']=lang.isQZONE&&!lang.hideCrossMarketingArea&&lang.appType=='normal';currentModules['group']=lang.isQZONE&&!lang.hideCrossMarketingArea&&lang.appType=='normal';currentModules['gift']=lang.isQZONE&&!lang.hideCrossMarketingArea&&lang.appType=='normal';currentModules['settings']=currentModules['msglist']||currentModules['newmsglist'];var m1=[],m2=[];if(/^(353|358)$/.test(lang.appInfo.appid)){m1=['coreusersrecom','bbs','game','playagain','recommendshow','recommend','invite','applist'];m2=['coreusersrecom','pcpush','newmsglist','msglist'];}else{m1=['coreusersrecom','bbs','game','playagain','invite','applist'];m2=['coreusersrecom','pcpush','newmsglist','msglist','recommendshow','recommend'];}
var exist=false,i=0;while(m=m1[i]){if(currentModules[m1[i]]||exist){if(!exist){exist=true;}else{currentModules[m1[i]]=false;}}
i++;}
var exist=false,i=0;while(m=m2[i]){if(currentModules[m2[i]]||exist){if(!exist){exist=true;}else{currentModules[m2[i]]=false;}}
i++;}
currentModules['coreusersrecom']&&module.batch('coreusersrecom','loadData',[d.sank_user]);currentModules['playagain']&&module.batch('playagain','loadDataBySelf');currentModules['applist']&&module.batch('applist','loadData',[d.host_used_data||[]]);currentModules['game']&&module.batch('game','loadData',[d.app_server_v3||[]]);currentModules['bbs']&&module.batch('bbs','loadData',[d.bbsInfo||[]]);currentModules['recommend']&&module.batch('recommend','loadData',[d.recomm_apps_right||[],{app_tid:d.appright_abtest_id,app_rid:d.appright_abtest_ruleid}]);currentModules['recommendshow']&&module.batch('recommendshow',d.appright_abtest_display_video?'loadDataBySelf':'loadData',[d.recomm_apps_right_new||[]]);if(d.mobile){d.mobile.nickname=d.nickname;}
currentModules['pcpush']&&module.batch('pcpush','loadData',[d.mobile||[]]);currentModules['invite']&&req('invite',QZFL.emptyFn);currentModules['msglist']&&req('msglist',QZFL.emptyFn);currentModules['newmsglist']&&req('newmsglist',QZFL.emptyFn);if(currentModules['msglist'])currentModules['newmsglist']=true;if(currentModules['newmsglist'])currentModules['msglist']=true;if(currentModules['invite']||currentModules['msglist']||currentModules['newmsglist']){this.getData2({op_ivt:[[undefined,0],[1,2]][+!!currentModules['invite']][+!!(currentModules['msglist']||currentModules['newmsglist'])],scence:1},sessionID,function(data){if(currentModules['invite']){if(data.invite_data&&data.invite_data.length>3){module.batch('invite','loadData',[data.invite_data,{app_tid:data.invite_abtest_id,app_rid:data.invite_abtest_ruleid}]);}else{module.batch('applist','loadData',[d.host_used_data||[]]);}}
if(currentModules['msglist']||currentModules['newmsglist']){if(data.type==6){module.req('gift',function(gift){gift.loadData(data.callback_appids);});}else if(data.type==5){module.req('group',function(group){group.loadData(data.group_data);});}else if(data.type==1){if(data.data.length<3){if(!/^(353|358)$/.test(lang.appInfo.appid)){module.req('recommend',function(recommend){recommend.loadDataBySelf('NEW');});}}else{module.req('hotplay',function(hotplay){hotplay.onLoadDataBySelf(data);});}}else if(data.type==2){if(data.data.length<6){if(!/^(353|358)$/.test(lang.appInfo.appid)){module.req('recommend',function(recommend){recommend.loadDataBySelf('NEW');});}}else{module.req('popular',function(popular){popular.show();popular.showData(data.data);});}}else if(data.type==3){currentModules['msglist']&&module.batch('msglist','onLoadDataBySelf',[false,false,data]);}else if(data.type==4){currentModules['newmsglist']&&module.batch('newmsglist','onLoadDataBySelf',[data]);}}});(currentModules['settings']=currentModules['msglist']||currentModules['newmsglist'])&&module.batch('settings','init');}
module.firstLoadedCallback=function(t){if(lang.rate1000){module.req('adapter',function(adapter){setTimeout(function(){var p=adapter.getStatPackage();p.valueStat(350541,1,1,{reportRate:1,duration:t});},1);});}};window.localStorage&&module.require('ct, util',function(ct,util){var pl=ct.getPortList();util.stat.code3.send(350722,1,Math.min(9,pl.length),500,1);var hostnames=[['https://qzonestyle.gtimg.cn/open/canvas/qzone/user.qzone.qq.com',1,0],['https://qzonestyle.gtimg.cn/open/canvas/qzone/rc.qzone.qq.com',10,0],['https://qzonestyle.gtimg.cn/open/canvas/qzone/my.qzone.qq.com',100,0],['https://qzonestyle.gtimg.cn/open/canvas/qzone/apps.pengyou.com',1000,0],['',10000,0]];var ex=false;for(var i=0;i<pl.length;i++){ex=false;for(var j=0;j<hostnames.length;j++){if(hostnames[j][0]==pl[i].hostname){hostnames[j][2]++;ex=true;}}
if(!ex){hostnames[4][2]++;}}
var code=0;for(var i=0;i<hostnames.length;i++){code+=(hostnames[i][2]?hostnames[i][1]:0);}
util.stat.code3.send(350723,1,code,500,1);});module.load();setTimeout(function(){if(lang.rate100){module.req('adapter',function(adapter){var num=0,objs=module.getsandbox();for(var mn in objs){if(objs[mn]&&objs[mn].isModule&&objs[mn].flag=='ready')num++;}
setTimeout(function(){var p=adapter.getStatPackage();p.valueStat(lang.isQZONE?350454:350455,1,num,{reportRate:1,duration:50});},1);});}
if(lang.rate1000){module.req('adapter',function(adapter){function supportCanvas(){return!!document.createElement("canvas").getContext;}
function supportVideo(){return!!document.createElement('video').canPlayType}
function supportWebSocket(){return!!window.WebSocket;}
var p=adapter.getStatPackage();p.valueStat(350488,1,(supportCanvas()?100:200)+(supportVideo()?10:20)+(supportWebSocket()?1:2),{reportRate:1,duration:50});});}
if(lang.rate100){module.req('adapter',function(adapter){var p=adapter.getStatPackage();p.valueStat(350497,1,lang.appType=='small'?1:2,{reportRate:1,duration:50});});}
if(lang.rate100){module.req('adapter',function(adapter){var arr=['tasklist','playagain','recommendshow','recommend','invite','applist','game','bbs'];for(var i=0;i<arr.length;i++){if(currentModules[arr[i]]&&module.getsandbox()[arr[i]]&&module.getsandbox()[arr[i]].obj&&!module.getsandbox()[arr[i]].obj.hidden){var p=adapter.getStatPackage();p.valueStat(350498,1,100+i,{reportRate:1,duration:50});break;}}});}
if(lang.rate100){module.req('adapter',function(adapter){var arr=['newmsglist','msglist','recommendshow','recommend','hotplay','popular','group','gift','pcpush'];for(var i=0;i<arr.length;i++){if(currentModules[arr[i]]&&module.getsandbox()[arr[i]]&&module.getsandbox()[arr[i]].obj&&!module.getsandbox()[arr[i]].obj.hidden){var p=adapter.getStatPackage();p.valueStat(350499,1,100+i,{reportRate:1,duration:50});break;}}});}
if(lang.rate1000){module.req('adapter',function(adapter){var p=adapter.getStatPackage();p.valueStat(350503,1,module.max_age,{reportRate:1,duration:50});});}
if(lang.rate1000){module.req('adapter',function(adapter){function localStorageSupported(){try{return('localStorage'in window&&window['localStorage']!=null);}
catch(e){}
return false;}
var p=adapter.getStatPackage();p.valueStat(350533,1,localStorageSupported()?1:0,{reportRate:1,duration:50});});}
if(lang.rate100&&lang.isQZONE&&QZFL.userAgent.chrome>=25){try{var type=2;var urls=performance.webkitGetEntries();var ent=null;for(var i=0;i<urls.length;i++){if(urls[i].name.indexOf('appCanvas_2.0.js'/*tpa=https://qzonestyle.gtimg.cn/open/canvas/qzone/appCanvas_2.0.js*/)!=-1){ent=urls[i];type=1;break;}}
window.TCISD.valueStat(350560,1,type,{reportRate:1,duration:(ent&&ent.duration||0)+1});}catch(e){}};},5000);});canvas.on('onDataError',function(d,sessionID){adapter.alertMsg(d.msg);});setTimeout(function(){while(canvas.__eventQueue&&canvas.__eventQueue.length){canvas.fireEvent.apply(canvas,canvas.__eventQueue.shift());}
delete canvas.__eventQueue;while(canvas.__codeQueue&&canvas.__codeQueue.length){canvas.code.apply(canvas,canvas.__codeQueue.shift());}
delete canvas.__codeQueue;},0);});});})(window,window.document);})();/*  |xGv00|3ce90efd4cf30874ae7adde09d49ccf9 */