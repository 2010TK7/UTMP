var template=function(a,b){return template["object"==typeof b?"render":"compile"].apply(template,arguments)};(function(e,f){e.version="2.0.1",e.openTag="<%",e.closeTag="%>",e.isEscape=!0,e.isCompress=!1,e.parser=null,e.render=function(h,i){var g=b(h);return void 0===g?c({id:h,name:"Render Error",message:"No Template"}):g(i)},e.compile=function(h,k){function r(n){try{return new i(n)+""}catch(m){return q?(m.id=h||k,m.name="Render Error",m.source=k,c(m)):e.compile(h,k,!0)(n)}}var l=arguments,q=l[2],g="anonymous";"string"!=typeof k&&(q=l[1],k=l[0],h=g);try{var i=d(k,q)}catch(j){return j.id=h||k,j.name="Syntax Error",c(j)}return r.prototype=i.prototype,r.toString=function(){return""+i},h!==g&&(a[h]=r),r},e.helper=function(g,h){e.prototype[g]=h},e.onerror=function(g){var h="[template]:\n"+g.id+"\n\n[name]:\n"+g.name;g.message&&(h+="\n\n[message]:\n"+g.message),g.line&&(h+="\n\n[line]:\n"+g.line,h+="\n\n[source]:\n"+g.source.split(/\n/)[g.line-1].replace(/^[\s\t]+/,"")),g.temp&&(h+="\n\n[temp]:\n"+g.temp),f.console&&console.error(h)};var a={},b=function(h){var j=a[h];if(void 0===j&&"document" in f){var g=document.getElementById(h);if(g){var i=g.value||g.innerHTML;return e.compile(h,i.replace(/^\s*|\s*$/g,""))}}else{if(a.hasOwnProperty(h)){return j}}},c=function(g){function h(){return h+""}return e.onerror(g),h.toString=function(){return"{Template Error}"},h},d=function(){e.prototype={$render:e.render,$escape:function(m){return"string"==typeof m?m.replace(/&(?![\w#]+;)|[<>"']/g,function(n){return{"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"}[n]}):m},$string:function(m){return"string"==typeof m||"number"==typeof m?m:"function"==typeof m?m():""}};var v=Array.prototype.forEach||function(o,p){for(var m=this.length>>>0,n=0;m>n;n++){n in this&&o.call(p,this[n],n,this)}},w=function(m,n){v.call(m,n)},g="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",h=/\/\*(?:.|\n)*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|'[^']*'|"[^"]*"|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g,i=/[^\w$]+/g,j=RegExp(["\\b"+g.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),k=/\b\d[^,]*/g,l=/^,+|,+$/g,u=function(m){return m=m.replace(h,"").replace(i,",").replace(j,"").replace(k,"").replace(l,""),m=m?m.split(/,+/):[]};return function(m,n){function ae(A){return t+=A.split(/\n/).length-1,e.isCompress&&(A=A.replace(/[\n\r\t\s]+/g," ")),A=A.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n"),A=Y[1]+"'"+A+"'"+Y[2],A+"\n"}function af(D){var A=t;if(q?D=q(D):n&&(D=D.replace(/\n/g,function(){return t++,"$line="+t+";"})),0===D.indexOf("=")){var B=0!==D.indexOf("==");if(D=D.replace(/^=*|[\s;]*$/g,""),B&&e.isEscape){var C=D.replace(/\s*\([^\)]+\)/,"");y.hasOwnProperty(C)||/^(include|print)$/.test(C)||(D="$escape($string("+D+"))")}else{D="$string("+D+")"}D=Y[1]+D+Y[2]}return n&&(D="$line="+A+";"+D),ag(D),D+"\n"}function ag(A){A=u(A),w(A,function(B){x.hasOwnProperty(B)||(ah(B),x[B]=!0)})}function ah(A){var B;"print"===A?B=aa:"include"===A?(z.$render=y.$render,B=ab):(B="$data."+A,y.hasOwnProperty(A)&&(z[A]=y[A],B=0===A.indexOf("$")?"$helpers."+A:B+"===undefined?$helpers."+A+":"+B)),W+=A+"="+B+","}var o=e.openTag,p=e.closeTag,q=e.parser,r=m,s="",t=1,x={$data:!0,$helpers:!0,$out:!0,$line:!0},y=e.prototype,z={},W="var $helpers=this,"+(n?"$line=0,":""),X="".trim,Y=X?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],Z=X?"if(content!==undefined){$out+=content;return content}":"$out.push(content);",aa="function(content){"+Z+"}",ab="function(id,data){if(data===undefined){data=$data}var content=$helpers.$render(id,data);"+Z+"}";w(r.split(o),function(A){A=A.split(p);var B=A[0],C=A[1];1===A.length?s+=ae(B):(s+=af(B),C&&(s+=ae(C)))}),r=s,n&&(r="try{"+r+"}catch(e){e.line=$line;throw e}"),r="'use strict';"+W+Y[0]+r+"return new String("+Y[3]+")";try{var ac=Function("$data",r);return ac.prototype=z,ac}catch(ad){throw ad.temp="function anonymous($data) {"+r+"}",ad}}}()})(template,this),"function"==typeof define?define(function(b,c,a){a.exports=template}):"undefined"!=typeof exports&&(module.exports=template);